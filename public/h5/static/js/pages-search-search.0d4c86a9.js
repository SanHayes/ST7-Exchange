(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"02f4":function(t,e,i){"use strict";var n=i("39d4b"),o=i.n(n);o.a},1197:function(t,e,i){var n=i("dfab");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("967d").default;o("7c00e55f",n,!0,{sourceMap:!1,shadowMode:!1})},1944:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("8f71"),i("bf0f"),i("4626"),i("5ac7"),i("fd3c"),i("bd06"),i("aa9c"),i("dd2b");var o=n(i("9b1b")),a=i("8f59"),r=n(i("3835")),s={data:function(){return{indexList:[],searchList:[],keyword:"",quotationOriginal:[],quotation:null,resData:null,mLists:null,domain:r.default.imageDomain}},computed:(0,o.default)({i18n:function(){return this.$t("search")}},(0,a.mapState)({socket:function(t){return t.socket},token:function(t){return t.token}})),onLoad:function(){console.log("****************"),this.loadmore();uni.setNavigationBarTitle({title:this.$t("search.search")}),"black"==this.$store.state.bgColor&&uni.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#222222"})},watch:{keyword:function(t){""!==t&&(this.searchList=this.quotationOriginal.filter((function(e){return e.currency_name.toLowerCase().includes(t.toLowerCase())})))}},methods:{clickItems:function(t){this.$store.commit("setCurrency",{currency_id:t.currency_id,currency_name:t.currency_name,"item.legal_name":t.legal_name,currentIndex:t.currentIndex}),this.$utils.jump("/pages/stock/stock","switchTab")},collects:function(t){var e=this;this.auths((function(){if(t.isCollect){t.isCollect=0;e.$H.post("/api/v1/optional/del",!1,{currency_id:t.currency_id}).then((function(e){"ok"==e.type&&(t.isCollect=0)}))}else{t.isCollect=1;e.$H.post("/api/v1/optional/add",!1,{currency_id:t.currency_id}).then((function(e){"ok"==e.type&&(t.isCollect=1)}))}}))},loadmore:function(){var t=this;this.resData=[];this.$H.get("/api/v1/quotation_new",!1).then((function(e){t.$H.get("/api/v1/optional/list",!1).then((function(i){t.mLists=i.data;for(var n=0;n<e.data.length;n++)console.log("nnnnnnnnnn"),e.data[n].quotation.map((function(i){i.precision_length=t.$utils.getPrecisionLength(i.now_price),i.currentIndex=n;var o=t.mLists.findIndex((function(t){return t.currency_id==i.currency_id}));i.isCollect=o>-1?1:0,t.quotationOriginal.push(i),t.resData.push(e.data[n].quotation),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"),console.log(t.resData),console.log(t.quotationOriginal),t.startSocket()}))}))}));console.log(this.resData),this.quotation=this.resData,this.indexList=[{date:"SH600051",gprice:"1.778501",dprice:"+0.25",isBol:1,isCollect:0},{date:"SH600051",gprice:"1.778502",dprice:"+0.15",isBol:1,isCollect:1},{date:"SH600053",gprice:"1.778503",dprice:"+0.35",isBol:0,isCollect:1},{date:"SH600054",gprice:"1.778504",dprice:"+0.45",isBol:1,isCollect:0},{date:"SH600055",gprice:"1.778502",dprice:"+0.55",isBol:0,isCollect:0},{date:"SH600056",gprice:"1.778503",dprice:"+0.65",isBol:0,isCollect:0},{date:"SH600057",gprice:"1.778504",dprice:"+0.75",isBol:0,isCollect:1},{date:"SH600055",gprice:"1.778502",dprice:"+0.55",isBol:0,isCollect:0},{date:"SH600056",gprice:"1.778503",dprice:"+0.65",isBol:0,isCollect:1},{date:"SH600057",gprice:"1.778504",dprice:"+0.75",isBol:1,isCollect:1}]},startSocket:function(){var t=this,e=this;this.socket.on("daymarket",(function(i){if(console.log("ooooooooooooooooooooooooooooooooooooooooo"),t.searchList.length>0){var n=e.searchList.findIndex((function(t){return t.currency_id==i.currency_id}));if(console.log(i),n>-1){console.log(i);var a=(0,o.default)((0,o.default)({},e.searchList[n]),i);e.searchList.splice(n,1,a)}}else{var r=e.quotationOriginal.findIndex((function(t){return t.currency_id==i.currency_id}));if(console.log(i),r>-1){console.log(i);var s=(0,o.default)((0,o.default)({},e.quotationOriginal[r]),i);e.quotationOriginal.splice(r,1,s)}}}))}}};e.default=s},"21b1":function(t,e,i){"use strict";i.r(e);var n=i("fe2f"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"24ab":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uSearch:i("cc4b").default,uList:i("8710").default,uListItem:i("a05b").default,uCell:i("8cfb").default,uAvatar:i("9383").default,uEmpty:i("a09f").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticStyle:{width:"98%"}},[i("u-search",{attrs:{showAction:!1,clearabled:!1,margin:"25rpx",searchIconSize:45,inputAlign:"left",placeholder:t.i18n.enter_product_code,height:"70"},on:{search:function(e){arguments[0]=e=t.$handleEvent(e),t.searchs.apply(void 0,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("v-uni-view",{staticClass:"u-page"},["black"==t.$store.state.bgColor?i("v-uni-view",{staticStyle:{width:"98%","padding-left":"20px",color:"#80838A"}},[t._v(t._s(t.i18n.search_result))]):t._e(),"while"==t.$store.state.bgColor?i("v-uni-view",{staticStyle:{width:"98%","padding-left":"20px"}},[t._v(t._s(t.i18n.search_result))]):t._e(),t.searchList.length>0?i("u-list",{staticClass:"sfds",staticStyle:{width:"100%",overflow:"hidden",height:"100%"}},t._l(t.searchList,(function(e,n){return i("u-list-item",{key:n},[i("u-cell",[i("v-uni-text",{attrs:{"{{item":!0}}),i("u-avatar",{attrs:{slot:"icon",shape:"square",size:"55",src:t.domain+"/storage/"+e.logo,customStyle:"margin: -3px 1px -3px 0"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.collects(e)}},slot:"icon"}),"black"==t.$store.state.bgColor?i("v-uni-view",{staticStyle:{display:"flex",color:"#fff"},attrs:{slot:"title"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickItems(e)}},slot:"title"},[i("v-uni-text",{staticClass:"u-cell-text"},[t._v(t._s(e.currency_name))]),i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{flex:"1","justify-content":"center","text-align":"center"}},[t._v(t._s(t._f("setPrecision")(Number(e.now_price),e.precision_length)))]),12==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#19AF6B"}},[t._v(t._s(e.change)+"%")]):t._e(),13==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#EF263D"}},[t._v(t._s(e.change)+"%")]):t._e(),14==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#EF263D"}},[t._v(t._s(e.change)+"%")]):t._e()],1):t._e(),"while"==t.$store.state.bgColor?i("v-uni-view",{staticStyle:{display:"flex"},attrs:{slot:"title"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.clickItems(e)}},slot:"title"},[i("v-uni-text",{staticClass:"u-cell-text"},[t._v(t._s(e.currency_name))]),i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{flex:"1","justify-content":"center","text-align":"center"}},[t._v(t._s(t._f("setPrecision")(Number(e.now_price),e.precision_length)))]),12==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#19AF6B"}},[t._v(t._s(e.change)+"%")]):t._e(),13==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#EF263D"}},[t._v(t._s(e.change)+"%")]):t._e(),14==t.$utils.getColor(e.change)?i("v-uni-text",{staticClass:"u-cell-text",staticStyle:{color:"#EF263D"}},[t._v(t._s(e.change)+"%")]):t._e()],1):t._e(),12==t.$utils.getColor(e.change)?i("u-avatar",{attrs:{slot:"right-icon",shape:"square",size:"35",src:"../../static/Up_S 2@3x.png",customStyle:"margin: -3px 1px -3px 0"},slot:"right-icon"}):t._e(),13==t.$utils.getColor(e.change)?i("u-avatar",{attrs:{slot:"right-icon",shape:"square",size:"35",src:"../../static/Down_S 2@3x.png",customStyle:"margin: -3px 1px -3px 0"},slot:"right-icon"}):t._e(),14==t.$utils.getColor(e.change)?i("u-avatar",{attrs:{slot:"right-icon",shape:"square",size:"35",src:"../../static/Down_S 2@3x.png",customStyle:"margin: -3px 1px -3px 0"},slot:"right-icon"}):t._e()],1)],1)})),1):t._e(),0===t.searchList.length?i("u-empty",{attrs:{mode:"search",icon:"file-text",iconSize:"207",textSize:"40",marginTop:"120",text:t.i18n.search_result}}):t._e()],1)],1)},a=[]},"2e6c":function(t,e,i){"use strict";i.r(e);var n=i("24ab"),o=i("7939");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("615b");var r=i("828b"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"1c80adf8",null,!1,n["a"],void 0);e["default"]=s.exports},"39d4b":function(t,e,i){var n=i("b1b3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("967d").default;o("158a024e",n,!0,{sourceMap:!1,shadowMode:!1})},"3a24":function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uIcon:i("154f").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.show?i("v-uni-view",{staticClass:"u-empty",style:[t.emptyStyle]},[t.isSrc?i("v-uni-image",{style:{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)},attrs:{src:t.icon,mode:"widthFix"}}):i("u-icon",{attrs:{name:"message"===t.mode?"chat":"empty-"+t.mode,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),i("v-uni-text",{staticClass:"u-empty__text",style:[t.textStyle]},[t._v(t._s(t.text?t.text:t.icons[t.mode]))]),t.$slots.default||t.$slots.$default?i("v-uni-view",{staticClass:"u-empty__wrap"},[t._t("default")],2):t._e()],1):t._e()},a=[]},"615b":function(t,e,i){"use strict";var n=i("1197"),o=i.n(n);o.a},7939:function(t,e,i){"use strict";i.r(e);var n=i("1944"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},"7ef0":function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa");var n={props:{icon:{type:String,default:uni.$u.props.empty.icon},text:{type:String,default:uni.$u.props.empty.text},textColor:{type:String,default:uni.$u.props.empty.textColor},textSize:{type:[String,Number],default:uni.$u.props.empty.textSize},iconColor:{type:String,default:uni.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:uni.$u.props.empty.iconSize},mode:{type:String,default:uni.$u.props.empty.mode},width:{type:[String,Number],default:uni.$u.props.empty.width},height:{type:[String,Number],default:uni.$u.props.empty.height},show:{type:Boolean,default:uni.$u.props.empty.show},marginTop:{type:[String,Number],default:uni.$u.props.empty.marginTop}}};e.default=n},a09f:function(t,e,i){"use strict";i.r(e);var n=i("3a24"),o=i("21b1");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("02f4");var r=i("828b"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"224c66ee",null,!1,n["a"],void 0);e["default"]=s.exports},b1b3:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-224c66ee], uni-scroll-view[data-v-224c66ee], uni-swiper-item[data-v-224c66ee]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-empty[data-v-224c66ee]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center}.u-empty__text[data-v-224c66ee]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}.u-slot-wrap[data-v-224c66ee]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),t.exports=e},dfab:function(t,e,i){var n=i("c86c");e=n(!1),e.push([t.i,"[data-v-1c80adf8] .u-cell__title{flex:1;line-height:58px}",""]),t.exports=e},fe2f:function(t,e,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("5ef2");var o=n(i("7ef0")),a={name:"u-empty",mixins:[uni.$u.mpMixin,uni.$u.mixin,o.default],data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空",comment:"暂无评论"}}},computed:{emptyStyle:function(){var t={};return t.marginTop=uni.$u.addUnit(this.marginTop),uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},textStyle:function(){var t={};return t.color=this.textColor,t.fontSize=uni.$u.addUnit(this.textSize),t},isSrc:function(){return this.icon.indexOf("/")>=0}}};e.default=a}}]);