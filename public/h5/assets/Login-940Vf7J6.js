import{_ as B,M as L,v as z,r as p,y as A,b as e,O as a,A as l,D as s,F as S,E as q,z as E,G,Q as O,I as R,C as b,aN as U,aO as D,a8 as M}from"./index-0ixFw3OK.js";import{C as P}from"./index-BWfMSj2-.js";import"./index-CR2ItRj-.js";import{F as Q}from"./index-8BOhLeSt.js";import{I as j}from"./index-B9kPpDx2.js";import{N as H}from"./index-Rsdy_2dq.js";import{F as J}from"./index-D4uGc56L.js";import"./use-id-CgNGtBDG.js";const K="/h5/assets/logo-reuCf3f9.png",T={class:"logo"},W={class:"label highlight-txt mb-2"},X={class:"label highlight-txt mt-6 mb-2"},Y={class:"links flex space-between mt-4 mb-6"},Z={class:"primary highlight-txt"},ee={class:"text-center"},oe={__name:"Login",setup(te){const g=L();z();const k=q(),r=p("password");function C(){r.value==="password"?r.value="text":r.value="password"}const i=p(""),u=p(""),d=p(!1);function f(){return D({user_string:i.value,password:u.value}).then(o=>{console.log(o),d.value=!1,o.type=="error"?M({type:"primary",message:o.message}):(localStorage.setItem("token",o.data),k.push("/"))}).finally(()=>{d.value=!1})}function x(o){d.value=!0,f()}const m=p(!1);async function V(){m.value=!0;const o=await U();if(o.type=="ok"){const t=o.data||{};i.value=t.username,u.value=t.password,await f()}m.value=!1}return(o,t)=>{var y,w;const h=R,_=O,I=H,F=j,n=E("i18n-t"),v=Q,N=P,$=J;return G(),A(S,null,[e(I,{title:(y=s(g).siteConfig)==null?void 0:y.site_name},{right:l(()=>[e(_,{size:"small"},{default:l(()=>[e(h,{"class-prefix":"iconfont",name:"language_full"})]),_:1})]),_:1},8,["title"]),a("div",T,[e(F,{src:((w=s(g).siteConfig)==null?void 0:w.site_logo)||s(K),width:"125px"},null,8,["src"])]),e($,{class:"form font-md","show-error":!0,"show-error-message":!1,onSubmit:x},{default:l(()=>[e(N,{border:!1},{default:l(()=>[a("div",W,[e(n,{keypath:"login.emallogo"})]),e(v,{modelValue:s(i),"onUpdate:modelValue":t[0]||(t[0]=c=>b(i)?i.value=c:null),placeholder:o.$t("login.enter_email"),border:!1,rules:[{required:!0}]},null,8,["modelValue","placeholder"]),a("div",X,[e(n,{keypath:"login.pwd"})]),e(v,{modelValue:s(u),"onUpdate:modelValue":t[1]||(t[1]=c=>b(u)?u.value=c:null),type:s(r),placeholder:o.$t("login.enter_password"),border:!1,rules:[{required:!0}]},{button:l(()=>[e(h,{name:s(r)==="password"?"closed-eye":"eye",size:"20",onClick:C},null,8,["name"])]),_:1},8,["modelValue","type","placeholder"]),a("div",Y,[a("div",{onClick:t[2]||(t[2]=c=>o.$router.push("/register"))},[e(n,{keypath:"login.have_account"}),a("span",Z,[e(n,{keypath:"login.register"})])]),a("div",{class:"highlight-txt",onClick:t[3]||(t[3]=c=>o.$router.push("/reset_password"))},[e(n,{keypath:"login.forgot_password"})])]),e(_,{block:"",type:"primary","native-type":"submit",loading:s(d)},{default:l(()=>[e(n,{keypath:"login.sign_in"})]),_:1},8,["loading"]),a("div",ee,[e(_,{class:"create highlight-txt mt-4 text-center",loading:s(m),onClick:V},{default:l(()=>[e(n,{keypath:"login.creat_account"})]),_:1},8,["loading"])])]),_:1})]),_:1})],64)}}},pe=B(oe,[["__scopeId","data-v-0d7c8452"]]);export{pe as default};
