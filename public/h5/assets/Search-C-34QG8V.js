import{_ as L,r as h,k as N,N as V,y as c,b as o,O as s,A as g,C as B,D as d,z as S,P as z,R as D,F as k,H as F,G as n,I,L as f,J as y,a7 as R}from"./index-B8jVCAQk.js";import{T as q}from"./index-IZZbNKb-.js";import"./index-zs14TXL7.js";import"./index-BdDwY46G.js";import{S as E}from"./index-wyAvs5io.js";import{N as T}from"./index-BZ5Wo1NO.js";import{q as U}from"./index-B7LOW8MA.js";import{a as x}from"./utils-C0Vei8Rg.js";import"./use-id-YjOw53DZ.js";const j={class:"main mt-3"},A={class:"px-3"},G={class:"label font-md my-2"},H={class:"list"},J={key:0,class:"text-center"},M=["onClick"],O={class:"icon"},P={class:"name font-md"},W={key:0,class:"price text-right"},K={class:"now font-md"},Q={key:1,class:"price text-right"},X={class:"trend text-right"},Y={__name:"Search",setup(Z){const _=h(!1),u=h([]),l=h(""),C=N(()=>{if(!l.value)return u.value;const t=l.value.toLowerCase();return u.value.filter(a=>a.currency_name.toLowerCase().includes(t))});V(()=>{w()});function w(){return _.value=!0,U().then(t=>{if(t.type==="ok"){const a=t.data||[],r=[];a.map(p=>{const m=p.quotation.map(i=>(i.visible=!1,i))||[];r.push(...m)}),u.value=r}}).finally(()=>{_.value=!1})}return(t,a)=>{const r=I,p=T,m=E,i=S("i18n-t"),$=D,b=q;return n(),c(k,null,[o(p,{title:t.$t("search.search"),fixed:"",placeholder:""},{left:g(()=>[o(r,{"class-prefix":"iconfont",name:"back",onClick:a[0]||(a[0]=e=>t.$router.back())})]),_:1},8,["title"]),s("div",j,[o(m,{placeholder:t.$t("search.enter_product_code"),modelValue:d(l),"onUpdate:modelValue":a[1]||(a[1]=e=>B(l)?l.value=e:null),shape:"round"},null,8,["placeholder","modelValue"]),s("div",A,[s("div",G,[o(i,{keypath:"search.search_result"})]),s("div",H,[d(_)?(n(),c("div",J,[o($,{size:"24"})])):z("",!0),(n(!0),c(k,null,F(d(C),e=>{var v;return n(),c("div",{class:"list-item",key:e.id,onClick:ee=>t.$router.push("/trade?id="+e.currency_id)},[s("div",O,[o(r,{name:e.logo_url,size:"36"},null,8,["name"])]),s("div",P,f(e.show_name),1),(v=e.currency)!=null&&v.opening?(n(),c("div",W,[s("div",K,f(e.now_price),1)])):(n(),c("div",Q,[o(b,null,{default:g(()=>[o(i,{keypath:"market.closed"})]),_:1})])),s("div",{class:"chart",ref_for:!0,ref:"chartRefs"},[s("div",X,[e.change.startsWith("+")?(n(),y(r,{key:0,"class-prefix":"iconfont",name:"rise",color:"#85bd00"})):(n(),y(r,{key:1,"class-prefix":"iconfont",name:"xiajiang",color:"#EF263D"})),s("span",{class:R(["percentage font-md ml-2",{up:d(x)(e.change)},{down:!d(x)(e.change)}])},f(e.change)+"%",3)])],512)],8,M)}),128))])])])],64)}}},de=L(Y,[["__scopeId","data-v-225c1a75"]]);export{de as default};
