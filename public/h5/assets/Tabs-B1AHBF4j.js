import{d as T,m as E,n as g,t as B,c as V,r as w,u as N,a as D,b as d,g as F,B as M,e as K,w as y,f as L,h as U,i as q,j as G,k as R,l as H,o as J,p as Y,I as S,q as Z,s as Q,v as W,x as X,y as P,z as ee,A as _,C as te,D as I,F as k,E as ae,G as p,H as ne,J as oe,K as re,L as ce}from"./index-Cji0LIog.js";const[O,A]=V("tabbar"),se={route:Boolean,fixed:B,border:B,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:E(0),safeAreaInsetBottom:{type:Boolean,default:null}},$=Symbol(O);var le=T({name:O,props:se,emits:["change","update:modelValue"],setup(e,{emit:f,slots:s}){const l=w(),{linkChildren:u}=N($),c=D(l,A),v=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},n=()=>{var t;const{fixed:a,zIndex:o,border:m}=e;return d("div",{ref:l,role:"tablist",style:F(o),class:[A({fixed:a}),{[M]:m,"van-safe-area-bottom":v()}]},[(t=s.default)==null?void 0:t.call(s)])};return u({props:e,setActive:(t,a)=>{K(e.beforeChange,{args:[t],done(){f("update:modelValue",t),f("change",t),a()}})}}),()=>e.fixed&&e.placeholder?c(n):n()}});const ie=y(le),[ue,h]=V("tabbar-item"),de=L({},Z,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var me=T({name:ue,props:de,emits:["click"],setup(e,{emit:f,slots:s}){const l=U(),u=q().proxy,{parent:c,index:v}=G($);if(!c)return;const n=R(()=>{var a;const{route:o,modelValue:m}=c.props;if(o&&"$route"in u){const{$route:x}=u,{to:r}=e,b=H(r)?r:{path:r};return!!x.matched.find(C=>{const j="path"in b&&b.path===C.path,z="name"in b&&b.name===C.name;return j||z})}return((a=e.name)!=null?a:v.value)===m}),i=a=>{var o;n.value||c.setActive((o=e.name)!=null?o:v.value,l),f("click",a)},t=()=>{if(s.icon)return s.icon({active:n.value});if(e.icon)return d(S,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var a;const{dot:o,badge:m}=e,{activeColor:x,inactiveColor:r}=c.props,b=n.value?x:r;return d("div",{role:"tab",class:h({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:i},[d(J,Y({dot:o,class:h("icon"),content:m},e.badgeProps),{default:t}),d("div",{class:h("text")},[(a=s.default)==null?void 0:a.call(s,{active:n.value})])])}}});const fe=y(me),be={__name:"Tabs",setup(e){const f=ae(),s=Q();console.log(s);const{t:l}=W(),u=R(()=>[{icon:"home-o",txt:l("nav.market"),url:"/"},{icon:"gem-o",txt:l("nav.stock"),url:"/news"},{icon:"exchange",txt:l("nav.trade"),url:"/trade"},{prefix:"iconfont",icon:"jiageweihu",txt:l("loan.loan"),url:"/loan"},{icon:"user-o",txt:l("nav.mine"),url:"/mine"}]),c=w(0);function v(i){f.push(u.value[i].url)}n(s),X(i=>{n(i)});function n(i){const{path:t}=i;console.log("defaultActive",i);const a=u.value.findIndex(o=>o.url===t);a>-1&&(c.value=a)}return(i,t)=>{const a=ee("router-view"),o=S,m=fe,x=ie;return p(),P(k,null,[d(a),d(x,{class:"max-with",modelValue:I(c),"onUpdate:modelValue":t[0]||(t[0]=r=>te(c)?c.value=r:null),onChange:v},{default:_(()=>[(p(!0),P(k,null,ne(I(u),r=>(p(),oe(m,{icon:r.icon},{icon:_(()=>[d(o,{"class-prefix":r.prefix,name:r.icon,size:"22"},null,8,["class-prefix","name"])]),default:_(()=>[re(" "+ce(r.txt),1)]),_:2},1032,["icon"]))),256))]),_:1},8,["modelValue"])],64)}}};export{be as default};
