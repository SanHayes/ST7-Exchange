import{_ as h,ae as b,y as f,b as s,A as l,D as r,F as m,s as k,G as p,I as C,H as L,J as $,M as y,L as B}from"./index-Dz2FhLUK.js";import{L as x}from"./index-C-nrC94K.js";import{C as I}from"./index-FBk_qlky.js";import{C as N}from"./index-IEZPsQoy.js";import{N as E}from"./index-BPClZm1B.js";import{a as w}from"./news-JLJt5Lj6.js";import"./use-tab-status-BCjDNgdj.js";const D={class:"up"},F={__name:"Earnings",setup(G){const _=k(),e=b({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function u(){e.page+=1;const t={page:e.page,limit:e.limit,orderId:_.params.id};w(t).then(a=>{if((a==null?void 0:a.type)==="ok"){const{data:i=[],total:d,last_page:n}=a;console.log("profits",i),e.list.push(...i),(!n||n===e.page)&&(e.finished=!0)}}).catch(a=>{e.error=!0}).finally(()=>{e.loading=!1})}return(t,a)=>{const i=C,d=E,n=N,g=I,v=x;return p(),f(m,null,[s(d,{title:t.$t("tc.detail"),fixed:"",placeholder:""},{left:l(()=>[s(i,{"class-prefix":"iconfont",name:"back",onClick:a[0]||(a[0]=o=>t.$router.back())})]),_:1},8,["title"]),s(v,{class:"list ma-5",loading:r(e).loading,"onUpdate:loading":a[1]||(a[1]=o=>r(e).loading=o),finished:r(e).finished,error:r(e).error,"finished-text":t.$t("mining.no_more"),onLoad:u},{default:l(()=>[(p(!0),f(m,null,L(r(e).list,o=>(p(),$(g,{key:o.id,class:"mb-3 row",border:!1},{default:l(()=>{var c;return[s(n,{title:(c=t.$route.params)==null?void 0:c.name,border:!1},null,8,["title"]),s(n,{value:o.created_time,border:!1},{title:l(()=>[y("span",D,"+ $"+B(o.value),1)]),_:2},1032,["value"])]}),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},U=h(F,[["__scopeId","data-v-6edd3f08"]]);export{U as default};
