import{_ as g,ae as v,y as p,b as n,A as d,D as l,F as m,G as f,I as b,H as h,J as k,aO as $}from"./index-pxKzUmWb.js";import{L as C}from"./index-C3h2DyHM.js";import{C as y}from"./index-p8gEzFsp.js";import{C as F}from"./index-DxH0UvTb.js";import{N as L}from"./index-BSWTsw4n.js";import"./use-tab-status-BfnYE3qF.js";const B={__name:"Financial",setup(N){const e=v({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function u(){e.page+=1;const a={page:e.page,limit:e.limit};$(a).then(t=>{var r;if(console.log(t),(t==null?void 0:t.type)==="ok"){const{list:s=[],total:i,count:c}=t.data;e.list.push(...s),c<=((r=e.list)==null?void 0:r.length)&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}return(a,t)=>{const r=b,s=L,i=F,c=y,_=C;return f(),p(m,null,[n(s,{title:a.$t("records.financial_records"),fixed:"",placeholder:""},{left:d(()=>[n(r,{"class-prefix":"iconfont",name:"back",onClick:t[0]||(t[0]=o=>a.$router.back())})]),_:1},8,["title"]),n(_,{class:"ma-5",loading:l(e).loading,"onUpdate:loading":t[1]||(t[1]=o=>l(e).loading=o),finished:l(e).finished,error:l(e).error,"finished-text":a.$t("mining.no_more"),onLoad:u},{default:d(()=>[(f(!0),p(m,null,h(l(e).list,o=>(f(),k(c,{class:"row mb-3",border:!1,key:o.id},{default:d(()=>[n(i,{title:a.$t("records.quantity"),value:Number(o.value).toFixed(3),border:!1},null,8,["title","value"]),n(i,{title:a.$t("records.time"),value:o.created_time,border:!1},null,8,["title","value"]),n(i,{title:a.$t("records.record"),label:o.info,border:!1},null,8,["title","label"])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},D=g(B,[["__scopeId","data-v-e8c68d20"]]);export{D as default};
