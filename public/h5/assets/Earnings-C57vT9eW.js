import{X as v,s as c,a as n,x as l,z as r,F as f,o as h,C as p,I as k,D as b,E as C}from"./index-DotFs6hQ.js";import{L as $}from"./index-YthvjXtT.js";import{C as L}from"./index-CdgWwUic.js";import{C as x}from"./index-BGvW-Xgq.js";import{N as B}from"./index-n0gQ9ulz.js";import{c as E}from"./news-CyCkuVm0.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-tab-status-CQMEfgWc.js";import"./index-CR8qj5FJ.js";import"./use-route-_DyoSwqD.js";import"./use-placeholder-fxdmpSj4.js";const I={__name:"Earnings",setup(N){const d=h(),t=v({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function _(){t.page+=1;const a={page:t.page,limit:t.limit,id:d.params.id};E(a).then(e=>{if((e==null?void 0:e.type)==="ok"){const{data:s=[],total:m,last_page:i}=e.data;t.list.push(...s),(!i||i===t.page)&&(t.finished=!0)}}).catch(e=>{t.error=!0}).finally(()=>{t.loading=!1})}return(a,e)=>{const s=k,m=B,i=x,u=L,g=$;return p(),c(f,null,[n(m,{title:a.$t("mining.subscription_list"),fixed:"",placeholder:""},{left:l(()=>[n(s,{"class-prefix":"iconfont",name:"back",onClick:e[0]||(e[0]=o=>a.$router.back())})]),_:1},8,["title"]),n(g,{class:"list ma-5",loading:r(t).loading,"onUpdate:loading":e[1]||(e[1]=o=>r(t).loading=o),finished:r(t).finished,error:r(t).error,"finished-text":a.$t("mining.no_more"),onLoad:_},{default:l(()=>[(p(!0),c(f,null,b(r(t).list,o=>(p(),C(u,{key:o.id,class:"mb-3 row",border:!1},{default:l(()=>[n(i,{title:a.$t("mining.interest"),value:o.is_lock,border:!1},null,8,["title","value"]),n(i,{title:a.$t("mining.Application_time"),value:o.created_time,border:!1},null,8,["title","value"])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},q=y(I,[["__scopeId","data-v-ed9ece83"]]);export{q as default};
