import{_ as h,ae as b,y as f,b as s,A as l,D as r,F as m,s as k,G as p,I as C,H as L,J as $,M as x,L as y}from"./index-Bu2moHUJ.js";import{L as B}from"./index-B9MP8mcT.js";import{C as N}from"./index-BGyGGoT5.js";import{C as I}from"./index-CpoYOss3.js";import{N as E}from"./index-CtDu_9ne.js";import{a as F}from"./news-n2ZV8X9c.js";import"./use-tab-status-DIEE-dfb.js";const w={class:"up"},D={__name:"Earnings",setup(G){const _=k(),e=b({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function u(){e.page+=1;const a={page:e.page,limit:e.limit,orderId:_.params.id};F(a).then(t=>{if((t==null?void 0:t.type)==="ok"){const{data:i=[],total:c,last_page:n}=t;console.log("profits",i),e.list.push(...i),(!n||n===e.page)&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}return(a,t)=>{const i=C,c=E,n=I,g=N,v=B;return p(),f(m,null,[s(c,{title:a.$t("tc.detail"),fixed:"",placeholder:""},{left:l(()=>[s(i,{"class-prefix":"iconfont",name:"back",onClick:t[0]||(t[0]=o=>a.$router.back())})]),_:1},8,["title"]),s(v,{class:"list ma-5",loading:r(e).loading,"onUpdate:loading":t[1]||(t[1]=o=>r(e).loading=o),finished:r(e).finished,error:r(e).error,"finished-text":a.$t("mining.no_more"),onLoad:u},{default:l(()=>[(p(!0),f(m,null,L(r(e).list,o=>(p(),$(g,{key:o.id,class:"mb-3 row",border:!1},{default:l(()=>{var d;return[s(n,{title:(d=a.$route.params)==null?void 0:d.name,border:!1},null,8,["title"]),s(n,{value:o.created_time,border:!1},{title:l(()=>[x("span",w,"+ $"+y(Number(o.value).toFixed(3)),1)]),_:2},1032,["value"])]}),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},U=h(D,[["__scopeId","data-v-35e883e4"]]);export{U as default};
