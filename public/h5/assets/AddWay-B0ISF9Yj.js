import{_ as g,v as h,ae as V,O as C,aV as x,aU as B,y as I,b as s,M as r,A as i,z as N,D as t,ac as $,Q as F,F as U,E as j,G as A,I as O,ai as m,aW as P}from"./index-C59WfAV9.js";/* empty css              *//* empty css              */import{P as W}from"./index-BgHWqvyN.js";import"./index-DoGVdPo7.js";import{F as E}from"./index-C8WCAi7y.js";import{N as M}from"./index-I-p-jQXu.js";import"./use-id-B0WZ9kAI.js";const z={class:"main px-3 py-5"},D={class:"label font-md my-3"},G={class:"row flex align-center"},Q={class:"label font-md my-3"},R={class:"row flex align-center"},T={class:"my-5"},q={__name:"AddWay",setup(H){const u=j(),{t:p}=h(),e=V({currency:"",pickerValue:[],pickerObj:{},columns:[],show:!1,address:"",loading:!1,disable:!1,list:[]}),_=({selectedValues:a,selectedOptions:o})=>{var n;console.log(a,o),e.currency=(n=o[0])==null?void 0:n.agreement,e.pickerValue=a,e.pickerObj=o[0],e.show=!1},f={text:"agreement",value:"id"};C(()=>{x().then(a=>{if(a.type==="ok"){const o=a.data||[];e.columns=o;const n=o[0];n&&(e.currency=n.agreement,e.pickerValue=[n.id],e.pickerObj=n)}}),B().then(a=>{a.type==="ok"&&(e.list=a.data)})});function y(){if(!e.address){m({type:"warning",message:p("wallet.enter_the_wallet_address")});return}const a={money:e.currency,account:e.address,digital_currency_id:e.pickerObj.id};e.loading=!0,P(a).then(o=>{o.type==="ok"&&(e.disable=!0,m({type:"success",message:o.message}),setTimeout(()=>{u.back()},2e3))}).finally(()=>{e.loading=!1})}return(a,o)=>{const n=O,k=M,d=N("i18n-t"),c=E,v=W,b=$,w=F;return A(),I(U,null,[s(k,{title:a.$t("wallet.bind_digital_currency_address"),fixed:"",placeholder:""},{left:i(()=>[s(n,{"class-prefix":"iconfont",name:"back",onClick:o[0]||(o[0]=l=>a.$router.back())})]),_:1},8,["title"]),r("div",z,[r("div",D,[s(d,{keypath:"wallet.currency"})]),r("div",G,[s(c,{modelValue:t(e).currency,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).currency=l),"is-link":"",readonly:"",name:"picker",placeholder:"",border:!1,onClick:o[2]||(o[2]=l=>t(e).show=!0)},null,8,["modelValue"]),s(b,{show:t(e).show,"onUpdate:show":o[4]||(o[4]=l=>t(e).show=l),"destroy-on-close":"",position:"bottom","safe-area-inset-bottom":!0},{default:i(()=>[s(v,{columns:t(e).columns,"columns-field-names":f,"model-value":t(e).pickerValue,onConfirm:_,onCancel:o[3]||(o[3]=l=>t(e).show=!1)},null,8,["columns","model-value"])]),_:1},8,["show"])]),r("div",Q,[s(d,{keypath:"wallet.wallet_address"})]),r("div",R,[s(c,{placeholder:a.$t("wallet.wallet_address"),border:!1,modelValue:t(e).address,"onUpdate:modelValue":o[5]||(o[5]=l=>t(e).address=l)},null,8,["placeholder","modelValue"])]),r("div",T,[s(w,{type:"primary",block:"",loading:t(e).loading,disabled:t(e).disable||t(e).list.length,onClick:y},{default:i(()=>[s(d,{keypath:"wallet.add"})]),_:1},8,["loading","disabled"])])])],64)}}},oe=g(q,[["__scopeId","data-v-07aacd16"]]);export{oe as default};
