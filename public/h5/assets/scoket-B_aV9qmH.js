import{ac as et,ad as lr,ae as hr,af as Lr,r as M,ag as $r,ah as Ur,ai as Hr,Q as zr,aj as dr,d as Q,m as j,T as pr,n as J,c as ee,ak as vr,X as yr,i as $,al as gr,e as mr,g as Xr,O as z,am as Cr,a as O,an as tt,ao as V,R as W,ap as br,aq as Wr,w as nt,ar as be,N as Jr,V as it,t as G,u as jr,as as Vr,at as Kr,a0 as ht,a7 as rt,B as Yr,au as Zr,av as dt,b as Gr,k as Qr,h as en,aw as tn,Y as rn,ax as nn,ay as on,a3 as sn,l as an,az as pt,f as cn,aA as un,aB as fn,a4 as ln,aC as hn,aD as dn}from"./index-BxmSbP4l.js";import{u as wr}from"./use-id-RCZ1cgBD.js";import{a as pn,r as vn}from"./use-route-DrsYuQyh.js";import{T as yn}from"./use-tab-status-C4eP4O0I.js";import{S as gn,a as mn}from"./index-rreEkFkq.js";import{a as Cn,g as bn}from"./_commonjsHelpers-C932wzq6.js";function wn(i,n,f){let a,h=0;const s=i.scrollLeft,d=f===0?1:Math.round(f*1e3/16);let c=s;function l(){lr(a)}function e(){c+=(n-s)/d,i.scrollLeft=c,++h<d&&(a=et(e))}return e(),l}function Fn(i,n,f,a){let h,s=hr(i);const d=s<n,c=f===0?1:Math.round(f*1e3/16),l=(n-s)/c;function e(){lr(h)}function r(){s+=l,(d&&s>n||!d&&s<n)&&(s=n),Lr(i,s),d&&s<n||!d&&s>n?h=et(r):a&&(h=et(a))}return r(),e}function Bn(){const i=M([]),n=[];return $r(()=>{i.value=[]}),[i,a=>(n[a]||(n[a]=h=>{i.value[a]=h}),n[a])]}function Fr(i,n){if(!Ur||!window.IntersectionObserver)return;const f=new IntersectionObserver(s=>{n(s[0].intersectionRatio>0)},{root:document.body}),a=()=>{i.value&&f.observe(i.value)},h=()=>{i.value&&f.unobserve(i.value)};Hr(h),zr(h),dr(a)}const[kn,An]=ee("sticky"),Sn={zIndex:J,position:pr("top"),container:Object,offsetTop:j(0),offsetBottom:j(0)};var Rn=Q({name:kn,props:Sn,emits:["scroll","change"],setup(i,{emit:n,slots:f}){const a=M(),h=vr(a),s=yr({fixed:!1,width:0,height:0,transform:0}),d=M(!1),c=$(()=>gr(i.position==="top"?i.offsetTop:i.offsetBottom)),l=$(()=>{if(d.value)return;const{fixed:o,height:u,width:p}=s;if(o)return{width:`${p}px`,height:`${u}px`}}),e=$(()=>{if(!s.fixed||d.value)return;const o=mr(Xr(i.zIndex),{width:`${s.width}px`,height:`${s.height}px`,[i.position]:`${c.value}px`});return s.transform&&(o.transform=`translate3d(0, ${s.transform}px, 0)`),o}),r=o=>n("scroll",{scrollTop:o,isFixed:s.fixed}),t=()=>{if(!a.value||tt(a))return;const{container:o,position:u}=i,p=V(a),v=hr(window);if(s.width=p.width,s.height=p.height,u==="top")if(o){const C=V(o),y=C.bottom-c.value-s.height;s.fixed=c.value>p.top&&C.bottom>0,s.transform=y<0?y:0}else s.fixed=c.value>p.top;else{const{clientHeight:C}=document.documentElement;if(o){const y=V(o),g=C-y.top-c.value-s.height;s.fixed=C-c.value<p.bottom&&C>y.top,s.transform=g<0?-g:0}else s.fixed=C-c.value<p.bottom}r(v)};return z(()=>s.fixed,o=>n("change",o)),Cr("scroll",t,{target:h,passive:!0}),Fr(a,t),z([br,Wr],()=>{!a.value||tt(a)||!s.fixed||(d.value=!0,W(()=>{const o=V(a);s.width=o.width,s.height=o.height,d.value=!1}))}),()=>{var o;return O("div",{ref:a,style:l.value},[O("div",{class:An({fixed:s.fixed&&!d.value}),style:e.value},[(o=f.default)==null?void 0:o.call(f)])])}}});const qn=nt(Rn),[En,vt]=ee("tabs");var Tn=Q({name:En,props:{count:be(Number),inited:Boolean,animated:Boolean,duration:be(J),swipeable:Boolean,lazyRender:Boolean,currentIndex:be(Number)},emits:["change"],setup(i,{emit:n,slots:f}){const a=M(),h=c=>n("change",c),s=()=>{var c;const l=(c=f.default)==null?void 0:c.call(f);return i.animated||i.swipeable?O(gn,{ref:a,loop:!1,class:vt("track"),duration:+i.duration*1e3,touchable:i.swipeable,lazyRender:i.lazyRender,showIndicators:!1,onChange:h},{default:()=>[l]}):l},d=c=>{const l=a.value;l&&l.state.active!==c&&l.swipeTo(c,{immediate:!i.inited})};return z(()=>i.currentIndex,d),Jr(()=>{d(i.currentIndex)}),it({swipeRef:a}),()=>O("div",{class:vt("content",{animated:i.animated||i.swipeable})},[s()])}});const[Br,re]=ee("tabs"),xn={type:pr("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:j(0),duration:j(.3),animated:Boolean,ellipsis:G,swipeable:Boolean,scrollspy:Boolean,offsetTop:j(0),background:String,lazyRender:G,showHeader:G,lineWidth:J,lineHeight:J,beforeChange:Function,swipeThreshold:j(5),titleActiveColor:String,titleInactiveColor:String},kr=Symbol(Br);var Nn=Q({name:Br,props:xn,emits:["change","scroll","rendered","clickTab","update:active"],setup(i,{emit:n,slots:f}){let a,h,s,d,c;const l=M(),e=M(),r=M(),t=M(),o=wr(),u=vr(l),[p,v]=Bn(),{children:C,linkChildren:y}=jr(kr),g=yr({inited:!1,position:"",lineStyle:{},currentIndex:-1}),B=$(()=>C.length>+i.swipeThreshold||!i.ellipsis||i.shrink),m=$(()=>({borderColor:i.color,background:i.background})),b=(A,T)=>{var N;return(N=A.name)!=null?N:T},w=$(()=>{const A=C[g.currentIndex];if(A)return b(A,g.currentIndex)}),F=$(()=>gr(i.offsetTop)),k=$(()=>i.sticky?F.value+a:0),S=A=>{const T=e.value,N=p.value;if(!B.value||!T||!N||!N[g.currentIndex])return;const D=N[g.currentIndex].$el,I=D.offsetLeft-(T.offsetWidth-D.offsetWidth)/2;d&&d(),d=wn(T,I,A?0:+i.duration)},R=()=>{const A=g.inited;W(()=>{const T=p.value;if(!T||!T[g.currentIndex]||i.type!=="line"||tt(l.value))return;const N=T[g.currentIndex].$el,{lineWidth:D,lineHeight:I}=i,L=N.offsetLeft+N.offsetWidth/2,X={width:ht(D),backgroundColor:i.color,transform:`translateX(${L}px) translateX(-50%)`};if(A&&(X.transitionDuration=`${i.duration}s`),rt(I)){const te=ht(I);X.height=te,X.borderRadius=te}g.lineStyle=X})},E=A=>{const T=A<g.currentIndex?-1:1;for(;A>=0&&A<C.length;){if(!C[A].disabled)return A;A+=T}},q=(A,T)=>{const N=E(A);if(!rt(N))return;const D=C[N],I=b(D,N),L=g.currentIndex!==null;g.currentIndex!==N&&(g.currentIndex=N,T||S(),R()),I!==i.active&&(n("update:active",I),L&&n("change",I,D.title)),s&&!i.scrollspy&&Zr(Math.ceil(dt(l.value)-F.value))},x=(A,T)=>{const N=C.find((I,L)=>b(I,L)===A),D=N?C.indexOf(N):0;q(D,T)},_=(A=!1)=>{if(i.scrollspy){const T=C[g.currentIndex].$el;if(T&&u.value){const N=dt(T,u.value)-k.value;h=!0,c&&c(),c=Fn(u.value,N,A?0:+i.duration,()=>{h=!1})}}},P=(A,T,N)=>{const{title:D,disabled:I}=C[T],L=b(C[T],T);I||(Gr(i.beforeChange,{args:[L],done:()=>{q(T),_()}}),pn(A)),n("clickTab",{name:L,title:D,event:N,disabled:I})},U=A=>{s=A.isFixed,n("scroll",A)},H=A=>{W(()=>{x(A),_(!0)})},Pr=()=>{for(let A=0;A<C.length;A++){const{top:T}=V(C[A].$el);if(T>k.value)return A===0?0:A-1}return C.length-1},Or=()=>{if(i.scrollspy&&!h){const A=Pr();q(A)}},Ir=()=>{if(i.type==="line"&&C.length)return O("div",{class:re("line"),style:g.lineStyle},null)},ft=()=>{var A,T,N;const{type:D,border:I,sticky:L}=i,X=[O("div",{ref:L?void 0:r,class:[re("wrap"),{[Yr]:D==="line"&&I}]},[O("div",{ref:e,role:"tablist",class:re("nav",[D,{shrink:i.shrink,complete:B.value}]),style:m.value,"aria-orientation":"horizontal"},[(A=f["nav-left"])==null?void 0:A.call(f),C.map(te=>te.renderTitle(P)),Ir(),(T=f["nav-right"])==null?void 0:T.call(f)])]),(N=f["nav-bottom"])==null?void 0:N.call(f)];return L?O("div",{ref:r},[X]):X},lt=()=>{R(),W(()=>{var A,T;S(!0),(T=(A=t.value)==null?void 0:A.swipeRef.value)==null||T.resize()})};z(()=>[i.color,i.duration,i.lineWidth,i.lineHeight],R),z(br,lt),z(()=>i.active,A=>{A!==w.value&&x(A)}),z(()=>C.length,()=>{g.inited&&(x(i.active),R(),W(()=>{S(!0)}))});const Dr=()=>{x(i.active,!0),W(()=>{g.inited=!0,r.value&&(a=V(r.value).height),S(!0)})},Mr=(A,T)=>n("rendered",A,T);return it({resize:lt,scrollTo:H}),Vr(R),Kr(R),dr(Dr),Fr(l,R),Cr("scroll",Or,{target:u,passive:!0}),y({id:o,props:i,setLine:R,scrollable:B,onRendered:Mr,currentName:w,setTitleRefs:v,scrollIntoView:S}),()=>O("div",{ref:l,class:re([i.type])},[i.showHeader?i.sticky?O(qn,{container:l.value,offsetTop:F.value,onScroll:U},{default:()=>[ft()]}):ft():null,O(Tn,{ref:t,count:C.length,inited:g.inited,animated:i.animated,duration:i.duration,swipeable:i.swipeable,lazyRender:i.lazyRender,currentIndex:g.currentIndex,onChange:q},{default:()=>{var A;return[(A=f.default)==null?void 0:A.call(f)]}})])}});const[_n,yt]=ee("tab"),Pn=Q({name:_n,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:J,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:G},setup(i,{slots:n}){const f=$(()=>{const h={},{type:s,color:d,disabled:c,isActive:l,activeColor:e,inactiveColor:r}=i;d&&s==="card"&&(h.borderColor=d,c||(l?h.backgroundColor=d:h.color=d));const o=l?e:r;return o&&(h.color=o),h}),a=()=>{const h=O("span",{class:yt("text",{ellipsis:!i.scrollable})},[n.title?n.title():i.title]);return i.dot||rt(i.badge)&&i.badge!==""?O(Qr,{dot:i.dot,content:i.badge,showZero:i.showZeroBadge},{default:()=>[h]}):h};return()=>O("div",{id:i.id,role:"tab",class:[yt([i.type,{grow:i.scrollable&&!i.shrink,shrink:i.shrink,active:i.isActive,disabled:i.disabled}])],style:f.value,tabindex:i.disabled?void 0:i.isActive?0:-1,"aria-selected":i.isActive,"aria-disabled":i.disabled||void 0,"aria-controls":i.controls,"data-allow-mismatch":"attribute"},[a()])}}),[On,we]=ee("tab"),In=mr({},vn,{dot:Boolean,name:J,badge:J,title:String,disabled:Boolean,titleClass:un,titleStyle:[String,Object],showZeroBadge:G});var Dn=Q({name:On,props:In,setup(i,{slots:n}){const f=wr(),a=M(!1),h=cn(),{parent:s,index:d}=en(kr);if(!s)return;const c=()=>{var p;return(p=i.name)!=null?p:d.value},l=()=>{a.value=!0,s.props.lazyRender&&W(()=>{s.onRendered(c(),i.title)})},e=$(()=>{const p=c()===s.currentName.value;return p&&!a.value&&l(),p}),r=M(""),t=M("");tn(()=>{const{titleClass:p,titleStyle:v}=i;r.value=p?rn(p):"",t.value=v&&typeof v!="string"?nn(on(v)):v});const o=p=>O(Pn,an({key:f,id:`${s.id}-${d.value}`,ref:s.setTitleRefs(d.value),style:t.value,class:r.value,isActive:e.value,controls:f,scrollable:s.scrollable.value,activeColor:s.props.titleActiveColor,inactiveColor:s.props.titleInactiveColor,onClick:v=>p(h.proxy,d.value,v)},pt(s.props,["type","color","shrink"]),pt(i,["dot","badge","title","disabled","showZeroBadge"])),{title:n.title}),u=M(!e.value);return z(e,p=>{p?u.value=!1:fn(()=>{u.value=!0})}),z(()=>i.title,()=>{s.setLine(),s.scrollIntoView()}),hn(yn,e),it({id:f,renderTitle:o}),()=>{var p;const v=`${s.id}-${d.value}`,{animated:C,swipeable:y,scrollspy:g,lazyRender:B}=s.props;if(!n.default&&!C)return;const m=g||e.value;if(C||y)return O(mn,{id:f,role:"tabpanel",class:we("panel-wrapper",{inactive:u.value}),tabindex:e.value?0:-1,"aria-hidden":!e.value,"aria-labelledby":v,"data-allow-mismatch":"attribute"},{default:()=>{var F;return[O("div",{class:we("panel")},[(F=n.default)==null?void 0:F.call(n)])]}});const w=a.value||g||!B?(p=n.default)==null?void 0:p.call(n):null;return sn(O("div",{id:f,role:"tabpanel",class:we("panel"),tabindex:m?0:-1,"aria-labelledby":v,"data-allow-mismatch":"attribute"},[w]),[[ln,m]])}}});const Ci=nt(Dn),bi=nt(Nn);var ne={exports:{}},Fe,gt;function Ar(){if(gt)return Fe;gt=1;var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];Fe=function(s){var d=s,c=s.indexOf("["),l=s.indexOf("]");c!=-1&&l!=-1&&(s=s.substring(0,c)+s.substring(c,l).replace(/:/g,";")+s.substring(l,s.length));for(var e=i.exec(s||""),r={},t=14;t--;)r[n[t]]=e[t]||"";return c!=-1&&l!=-1&&(r.source=d,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=f(r,r.path),r.queryKey=a(r,r.query),r};function f(h,s){var d=/\/{2,9}/g,c=s.replace(d,"/").split("/");return(s.substr(0,1)=="/"||s.length===0)&&c.splice(0,1),s.substr(s.length-1,1)=="/"&&c.splice(c.length-1,1),c}function a(h,s){var d={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,l,e){l&&(d[l]=e)}),d}return Fe}var ie={exports:{}},oe={exports:{}},Be,mt;function Mn(){if(mt)return Be;mt=1;var i=1e3,n=i*60,f=n*60,a=f*24,h=a*365.25;Be=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return s(e);if(t==="number"&&isNaN(e)===!1)return r.long?c(e):d(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function s(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),o=(r[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*h;case"days":case"day":case"d":return t*a;case"hours":case"hour":case"hrs":case"hr":case"h":return t*f;case"minutes":case"minute":case"mins":case"min":case"m":return t*n;case"seconds":case"second":case"secs":case"sec":case"s":return t*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function d(e){return e>=a?Math.round(e/a)+"d":e>=f?Math.round(e/f)+"h":e>=n?Math.round(e/n)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function c(e){return l(e,a,"day")||l(e,f,"hour")||l(e,n,"minute")||l(e,i,"second")||e+" ms"}function l(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}return Be}var Ct;function Ln(){return Ct||(Ct=1,function(i,n){n=i.exports=a.debug=a.default=a,n.coerce=l,n.disable=d,n.enable=s,n.enabled=c,n.humanize=Mn(),n.instances=[],n.names=[],n.skips=[],n.formatters={};function f(e){var r=0,t;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function a(e){var r;function t(){if(t.enabled){var o=t,u=+new Date,p=u-(r||u);o.diff=p,o.prev=r,o.curr=u,r=u;for(var v=new Array(arguments.length),C=0;C<v.length;C++)v[C]=arguments[C];v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var y=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(B,m){if(B==="%%")return B;y++;var b=n.formatters[m];if(typeof b=="function"){var w=v[y];B=b.call(o,w),v.splice(y,1),y--}return B}),n.formatArgs.call(o,v);var g=t.log||n.log||console.log.bind(console);g.apply(o,v)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=f(e),t.destroy=h,typeof n.init=="function"&&n.init(t),n.instances.push(t),t}function h(){var e=n.instances.indexOf(this);return e!==-1?(n.instances.splice(e,1),!0):!1}function s(e){n.save(e),n.names=[],n.skips=[];var r,t=(typeof e=="string"?e:"").split(/[\s,]+/),o=t.length;for(r=0;r<o;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),e[0]==="-"?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(r=0;r<n.instances.length;r++){var u=n.instances[r];u.enabled=n.enabled(u.namespace)}}function d(){n.enable("")}function c(e){if(e[e.length-1]==="*")return!0;var r,t;for(r=0,t=n.skips.length;r<t;r++)if(n.skips[r].test(e))return!1;for(r=0,t=n.names.length;r<t;r++)if(n.names[r].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}}(oe,oe.exports)),oe.exports}var bt;function ye(){return bt||(bt=1,function(i,n){var f={};n=i.exports=Ln(),n.log=s,n.formatArgs=h,n.save=d,n.load=c,n.useColors=a,n.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}n.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function h(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+n.humanize(this.diff),!!r){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var o=0,u=0;e[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(o++,p==="%c"&&(u=o))}),e.splice(u,0,t)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function d(e){try{e==null?n.storage.removeItem("debug"):n.storage.debug=e}catch{}}function c(){var e;try{e=n.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=f.DEBUG),e}n.enable(c());function l(){try{return window.localStorage}catch{}}}(ie,ie.exports)),ie.exports}var ke,wt;function $n(){if(wt)return ke;wt=1;var i=Ar(),n=ye()("socket.io-client:url");ke=f;function f(a,h){var s=a;h=h||typeof location<"u"&&location,a==null&&(a=h.protocol+"//"+h.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=h.protocol+a:a=h.host+a),/^(https?|wss?):\/\//.test(a)||(n("protocol-less url %s",a),typeof h<"u"?a=h.protocol+"//"+a:a="https://"+a),n("parse %s",a),s=i(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";var d=s.host.indexOf(":")!==-1,c=d?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port,s.href=s.protocol+"://"+c+(h&&h.port===s.port?"":":"+s.port),s}return ke}var Ae={},se={exports:{}},ae={exports:{}},Se,Ft;function Un(){if(Ft)return Se;Ft=1;var i=1e3,n=i*60,f=n*60,a=f*24,h=a*365.25;Se=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return s(e);if(t==="number"&&isNaN(e)===!1)return r.long?c(e):d(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function s(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),o=(r[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*h;case"days":case"day":case"d":return t*a;case"hours":case"hour":case"hrs":case"hr":case"h":return t*f;case"minutes":case"minute":case"mins":case"min":case"m":return t*n;case"seconds":case"second":case"secs":case"sec":case"s":return t*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function d(e){return e>=a?Math.round(e/a)+"d":e>=f?Math.round(e/f)+"h":e>=n?Math.round(e/n)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function c(e){return l(e,a,"day")||l(e,f,"hour")||l(e,n,"minute")||l(e,i,"second")||e+" ms"}function l(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}return Se}var Bt;function Hn(){return Bt||(Bt=1,function(i,n){n=i.exports=a.debug=a.default=a,n.coerce=l,n.disable=d,n.enable=s,n.enabled=c,n.humanize=Un(),n.instances=[],n.names=[],n.skips=[],n.formatters={};function f(e){var r=0,t;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function a(e){var r;function t(){if(t.enabled){var o=t,u=+new Date,p=u-(r||u);o.diff=p,o.prev=r,o.curr=u,r=u;for(var v=new Array(arguments.length),C=0;C<v.length;C++)v[C]=arguments[C];v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var y=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(B,m){if(B==="%%")return B;y++;var b=n.formatters[m];if(typeof b=="function"){var w=v[y];B=b.call(o,w),v.splice(y,1),y--}return B}),n.formatArgs.call(o,v);var g=t.log||n.log||console.log.bind(console);g.apply(o,v)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=f(e),t.destroy=h,typeof n.init=="function"&&n.init(t),n.instances.push(t),t}function h(){var e=n.instances.indexOf(this);return e!==-1?(n.instances.splice(e,1),!0):!1}function s(e){n.save(e),n.names=[],n.skips=[];var r,t=(typeof e=="string"?e:"").split(/[\s,]+/),o=t.length;for(r=0;r<o;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),e[0]==="-"?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(r=0;r<n.instances.length;r++){var u=n.instances[r];u.enabled=n.enabled(u.namespace)}}function d(){n.enable("")}function c(e){if(e[e.length-1]==="*")return!0;var r,t;for(r=0,t=n.skips.length;r<t;r++)if(n.skips[r].test(e))return!1;for(r=0,t=n.names.length;r<t;r++)if(n.names[r].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}}(ae,ae.exports)),ae.exports}var kt;function zn(){return kt||(kt=1,function(i,n){var f={};n=i.exports=Hn(),n.log=s,n.formatArgs=h,n.save=d,n.load=c,n.useColors=a,n.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}n.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function h(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+n.humanize(this.diff),!!r){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var o=0,u=0;e[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(o++,p==="%c"&&(u=o))}),e.splice(u,0,t)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function d(e){try{e==null?n.storage.removeItem("debug"):n.storage.debug=e}catch{}}function c(){var e;try{e=n.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=f.DEBUG),e}n.enable(c());function l(){try{return window.localStorage}catch{}}}(se,se.exports)),se.exports}var Re={exports:{}},At;function Y(){return At||(At=1,function(i){i.exports=n;function n(a){if(a)return f(a)}function f(a){for(var h in n.prototype)a[h]=n.prototype[h];return a}n.prototype.on=n.prototype.addEventListener=function(a,h){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(h),this},n.prototype.once=function(a,h){function s(){this.off(a,s),h.apply(this,arguments)}return s.fn=h,this.on(a,s),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(a,h){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+a];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var d,c=0;c<s.length;c++)if(d=s[c],d===h||d.fn===h){s.splice(c,1);break}return s.length===0&&delete this._callbacks["$"+a],this},n.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var h=new Array(arguments.length-1),s=this._callbacks["$"+a],d=1;d<arguments.length;d++)h[d-1]=arguments[d];if(s){s=s.slice(0);for(var d=0,c=s.length;d<c;++d)s[d].apply(this,h)}return this},n.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},n.prototype.hasListeners=function(a){return!!this.listeners(a).length}}(Re)),Re.exports}var Z={},qe,St;function ot(){if(St)return qe;St=1;var i={}.toString;return qe=Array.isArray||function(n){return i.call(n)=="[object Array]"},qe}var Ee,Rt;function Sr(){if(Rt)return Ee;Rt=1,Ee=a;var i=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",n=typeof ArrayBuffer=="function",f=function(h){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(h):h.buffer instanceof ArrayBuffer};function a(h){return i&&Buffer.isBuffer(h)||n&&(h instanceof ArrayBuffer||f(h))}return Ee}var qt;function Xn(){if(qt)return Z;qt=1;var i=ot(),n=Sr(),f=Object.prototype.toString,a=typeof Blob=="function"||typeof Blob<"u"&&f.call(Blob)==="[object BlobConstructor]",h=typeof File=="function"||typeof File<"u"&&f.call(File)==="[object FileConstructor]";Z.deconstructPacket=function(c){var l=[],e=c.data,r=c;return r.data=s(e,l),r.attachments=l.length,{packet:r,buffers:l}};function s(c,l){if(!c)return c;if(n(c)){var e={_placeholder:!0,num:l.length};return l.push(c),e}else if(i(c)){for(var r=new Array(c.length),t=0;t<c.length;t++)r[t]=s(c[t],l);return r}else if(typeof c=="object"&&!(c instanceof Date)){var r={};for(var o in c)r[o]=s(c[o],l);return r}return c}Z.reconstructPacket=function(c,l){return c.data=d(c.data,l),c.attachments=void 0,c};function d(c,l){if(!c)return c;if(c&&c._placeholder===!0){var e=typeof c.num=="number"&&c.num>=0&&c.num<l.length;if(e)return l[c.num];throw new Error("illegal attachments")}else if(i(c))for(var r=0;r<c.length;r++)c[r]=d(c[r],l);else if(typeof c=="object")for(var t in c)c[t]=d(c[t],l);return c}return Z.removeBlobs=function(c,l){function e(o,u,p){if(!o)return o;if(a&&o instanceof Blob||h&&o instanceof File){r++;var v=new FileReader;v.onload=function(){p?p[u]=this.result:t=this.result,--r||l(t)},v.readAsArrayBuffer(o)}else if(i(o))for(var C=0;C<o.length;C++)e(o[C],C,o);else if(typeof o=="object"&&!n(o))for(var y in o)e(o[y],y,o)}var r=0,t=c;e(t),r||l(t)},Z}var Et;function st(){return Et||(Et=1,function(i){var n=zn()("socket.io-parser"),f=Y(),a=Xn(),h=ot(),s=Sr();i.protocol=4,i.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],i.CONNECT=0,i.DISCONNECT=1,i.EVENT=2,i.ACK=3,i.ERROR=4,i.BINARY_EVENT=5,i.BINARY_ACK=6,i.Encoder=d,i.Decoder=t;function d(){}var c=i.ERROR+'"encode error"';d.prototype.encode=function(y,g){if(n("encoding packet %j",y),i.BINARY_EVENT===y.type||i.BINARY_ACK===y.type)r(y,g);else{var B=l(y);g([B])}};function l(y){var g=""+y.type;if((i.BINARY_EVENT===y.type||i.BINARY_ACK===y.type)&&(g+=y.attachments+"-"),y.nsp&&y.nsp!=="/"&&(g+=y.nsp+","),y.id!=null&&(g+=y.id),y.data!=null){var B=e(y.data);if(B!==!1)g+=B;else return c}return n("encoded %j as %s",y,g),g}function e(y){try{return JSON.stringify(y)}catch{return!1}}function r(y,g){function B(m){var b=a.deconstructPacket(m),w=l(b.packet),F=b.buffers;F.unshift(w),g(F)}a.removeBlobs(y,B)}function t(){this.reconstructor=null}f(t.prototype),t.prototype.add=function(y){var g;if(typeof y=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");g=u(y),i.BINARY_EVENT===g.type||i.BINARY_ACK===g.type?(this.reconstructor=new v(g),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",g)):this.emit("decoded",g)}else if(s(y)||y.base64)if(this.reconstructor)g=this.reconstructor.takeBinaryData(y),g&&(this.reconstructor=null,this.emit("decoded",g));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+y)};function o(y,g){switch(y){case 0:return typeof g=="object";case 1:return g===void 0;case 4:return typeof g=="string"||typeof g=="object";case 2:case 5:return h(g)&&(typeof g[0]=="string"||typeof g[0]=="number");case 3:case 6:return h(g)}}function u(y){var g=0,B={type:Number(y.charAt(0))};if(i.types[B.type]==null)return C("unknown packet type "+B.type);if(i.BINARY_EVENT===B.type||i.BINARY_ACK===B.type){for(var m=g+1;y.charAt(++g)!=="-"&&g!=y.length;);var b=y.substring(m,g);if(b!=Number(b)||y.charAt(g)!=="-")throw new Error("Illegal attachments");B.attachments=Number(b)}if(y.charAt(g+1)==="/"){for(var m=g+1;++g;){var w=y.charAt(g);if(w===","||g===y.length)break}B.nsp=y.substring(m,g)}else B.nsp="/";var F=y.charAt(g+1);if(F!==""&&Number(F)==F){for(var m=g+1;++g;){var w=y.charAt(g);if(w==null||Number(w)!=w){--g;break}if(g===y.length)break}B.id=Number(y.substring(m,g+1))}if(y.charAt(++g)){var k=p(y.substr(g));if(o(B.type,k))B.data=k;else throw new Error("invalid payload")}return n("decoded %s as %j",y,B),B}function p(y){try{return JSON.parse(y)}catch{return!1}}t.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function v(y){this.reconPack=y,this.buffers=[]}v.prototype.takeBinaryData=function(y){if(this.buffers.push(y),this.buffers.length===this.reconPack.attachments){var g=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),g}return null},v.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function C(y){return{type:i.ERROR,data:"parser error: "+y}}}(Ae)),Ae}var ce={exports:{}},ue={},fe={exports:{}},Tt;function Wn(){if(Tt)return fe.exports;Tt=1;try{fe.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{fe.exports=!1}return fe.exports}var Te,xt;function at(){return xt||(xt=1,Te=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}()),Te}var xe,Nt;function ct(){if(Nt)return xe;Nt=1;var i=Wn(),n=at();return xe=function(f){var a=f.xdomain,h=f.xscheme,s=f.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!a||i))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!h&&s)return new XDomainRequest}catch{}if(!a)try{return new n[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},xe}var le={exports:{}},Ne={},_e,_t;function Jn(){return _t||(_t=1,_e=Object.keys||function(n){var f=[],a=Object.prototype.hasOwnProperty;for(var h in n)a.call(n,h)&&f.push(h);return f}),_e}var Pe,Pt;function Rr(){if(Pt)return Pe;Pt=1;var i=ot(),n=Object.prototype.toString,f=typeof Blob=="function"||typeof Blob<"u"&&n.call(Blob)==="[object BlobConstructor]",a=typeof File=="function"||typeof File<"u"&&n.call(File)==="[object FileConstructor]";Pe=h;function h(s){if(!s||typeof s!="object")return!1;if(i(s)){for(var d=0,c=s.length;d<c;d++)if(h(s[d]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(s)||typeof ArrayBuffer=="function"&&s instanceof ArrayBuffer||f&&s instanceof Blob||a&&s instanceof File)return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return h(s.toJSON(),!0);for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)&&h(s[l]))return!0;return!1}return Pe}var Oe,Ot;function jn(){return Ot||(Ot=1,Oe=function(i,n,f){var a=i.byteLength;if(n=n||0,f=f||a,i.slice)return i.slice(n,f);if(n<0&&(n+=a),f<0&&(f+=a),f>a&&(f=a),n>=a||n>=f||a===0)return new ArrayBuffer(0);for(var h=new Uint8Array(i),s=new Uint8Array(f-n),d=n,c=0;d<f;d++,c++)s[c]=h[d];return s.buffer}),Oe}var Ie,It;function Vn(){if(It)return Ie;It=1,Ie=i;function i(f,a,h){var s=!1;return h=h||n,d.count=f,f===0?a():d;function d(c,l){if(d.count<=0)throw new Error("after called too many times");--d.count,c?(s=!0,a(c),a=h):d.count===0&&!s&&a(null,l)}}function n(){}return Ie}/*! https://mths.be/utf8js v2.1.2 by @mathias */var De,Dt;function Kn(){if(Dt)return De;Dt=1;var i=String.fromCharCode;function n(u){for(var p=[],v=0,C=u.length,y,g;v<C;)y=u.charCodeAt(v++),y>=55296&&y<=56319&&v<C?(g=u.charCodeAt(v++),(g&64512)==56320?p.push(((y&1023)<<10)+(g&1023)+65536):(p.push(y),v--)):p.push(y);return p}function f(u){for(var p=u.length,v=-1,C,y="";++v<p;)C=u[v],C>65535&&(C-=65536,y+=i(C>>>10&1023|55296),C=56320|C&1023),y+=i(C);return y}function a(u,p){if(u>=55296&&u<=57343){if(p)throw Error("Lone surrogate U+"+u.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function h(u,p){return i(u>>p&63|128)}function s(u,p){if(!(u&4294967168))return i(u);var v="";return u&4294965248?u&4294901760?u&4292870144||(v=i(u>>18&7|240),v+=h(u,12),v+=h(u,6)):(a(u,p)||(u=65533),v=i(u>>12&15|224),v+=h(u,6)):v=i(u>>6&31|192),v+=i(u&63|128),v}function d(u,p){p=p||{};for(var v=p.strict!==!1,C=n(u),y=C.length,g=-1,B,m="";++g<y;)B=C[g],m+=s(B,v);return m}function c(){if(t>=r)throw Error("Invalid byte index");var u=e[t]&255;if(t++,(u&192)==128)return u&63;throw Error("Invalid continuation byte")}function l(u){var p,v,C,y,g;if(t>r)throw Error("Invalid byte index");if(t==r)return!1;if(p=e[t]&255,t++,!(p&128))return p;if((p&224)==192){if(v=c(),g=(p&31)<<6|v,g>=128)return g;throw Error("Invalid continuation byte")}if((p&240)==224){if(v=c(),C=c(),g=(p&15)<<12|v<<6|C,g>=2048)return a(g,u)?g:65533;throw Error("Invalid continuation byte")}if((p&248)==240&&(v=c(),C=c(),y=c(),g=(p&7)<<18|v<<12|C<<6|y,g>=65536&&g<=1114111))return g;throw Error("Invalid UTF-8 detected")}var e,r,t;function o(u,p){p=p||{};var v=p.strict!==!1;e=n(u),r=e.length,t=0;for(var C=[],y;(y=l(v))!==!1;)C.push(y);return f(C)}return De={version:"2.1.2",encode:d,decode:o},De}var he={},Mt;function Yn(){return Mt||(Mt=1,function(i){he.encode=function(n){var f=new Uint8Array(n),a,h=f.length,s="";for(a=0;a<h;a+=3)s+=i[f[a]>>2],s+=i[(f[a]&3)<<4|f[a+1]>>4],s+=i[(f[a+1]&15)<<2|f[a+2]>>6],s+=i[f[a+2]&63];return h%3===2?s=s.substring(0,s.length-1)+"=":h%3===1&&(s=s.substring(0,s.length-2)+"=="),s},he.decode=function(n){var f=n.length*.75,a=n.length,h,s=0,d,c,l,e;n[n.length-1]==="="&&(f--,n[n.length-2]==="="&&f--);var r=new ArrayBuffer(f),t=new Uint8Array(r);for(h=0;h<a;h+=4)d=i.indexOf(n[h]),c=i.indexOf(n[h+1]),l=i.indexOf(n[h+2]),e=i.indexOf(n[h+3]),t[s++]=d<<2|c>>4,t[s++]=(c&15)<<4|l>>2,t[s++]=(l&3)<<6|e&63;return r}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),he}var Me,Lt;function Zn(){if(Lt)return Me;Lt=1;var i=typeof i<"u"?i:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,n=function(){try{var c=new Blob(["hi"]);return c.size===2}catch{return!1}}(),f=n&&function(){try{var c=new Blob([new Uint8Array([1,2])]);return c.size===2}catch{return!1}}(),a=i&&i.prototype.append&&i.prototype.getBlob;function h(c){return c.map(function(l){if(l.buffer instanceof ArrayBuffer){var e=l.buffer;if(l.byteLength!==e.byteLength){var r=new Uint8Array(l.byteLength);r.set(new Uint8Array(e,l.byteOffset,l.byteLength)),e=r.buffer}return e}return l})}function s(c,l){l=l||{};var e=new i;return h(c).forEach(function(r){e.append(r)}),l.type?e.getBlob(l.type):e.getBlob()}function d(c,l){return new Blob(h(c),l||{})}return typeof Blob<"u"&&(s.prototype=Blob.prototype,d.prototype=Blob.prototype),Me=function(){return n?f?Blob:d:a?s:void 0}(),Me}var $t;function K(){return $t||($t=1,function(i){var n=Jn(),f=Rr(),a=jn(),h=Vn(),s=Kn(),d;typeof ArrayBuffer<"u"&&(d=Yn());var c=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),l=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),e=c||l;i.protocol=3;var r=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},t=n(r),o={type:"error",data:"parser error"},u=Zn();i.encodePacket=function(m,b,w,F){typeof b=="function"&&(F=b,b=!1),typeof w=="function"&&(F=w,w=null);var k=m.data===void 0?void 0:m.data.buffer||m.data;if(typeof ArrayBuffer<"u"&&k instanceof ArrayBuffer)return v(m,b,F);if(typeof u<"u"&&k instanceof u)return y(m,b,F);if(k&&k.base64)return p(m,F);var S=r[m.type];return m.data!==void 0&&(S+=w?s.encode(String(m.data),{strict:!1}):String(m.data)),F(""+S)};function p(m,b){var w="b"+i.packets[m.type]+m.data.data;return b(w)}function v(m,b,w){if(!b)return i.encodeBase64Packet(m,w);var F=m.data,k=new Uint8Array(F),S=new Uint8Array(1+F.byteLength);S[0]=r[m.type];for(var R=0;R<k.length;R++)S[R+1]=k[R];return w(S.buffer)}function C(m,b,w){if(!b)return i.encodeBase64Packet(m,w);var F=new FileReader;return F.onload=function(){i.encodePacket({type:m.type,data:F.result},b,!0,w)},F.readAsArrayBuffer(m.data)}function y(m,b,w){if(!b)return i.encodeBase64Packet(m,w);if(e)return C(m,b,w);var F=new Uint8Array(1);F[0]=r[m.type];var k=new u([F.buffer,m.data]);return w(k)}i.encodeBase64Packet=function(m,b){var w="b"+i.packets[m.type];if(typeof u<"u"&&m.data instanceof u){var F=new FileReader;return F.onload=function(){var q=F.result.split(",")[1];b(w+q)},F.readAsDataURL(m.data)}var k;try{k=String.fromCharCode.apply(null,new Uint8Array(m.data))}catch{for(var S=new Uint8Array(m.data),R=new Array(S.length),E=0;E<S.length;E++)R[E]=S[E];k=String.fromCharCode.apply(null,R)}return w+=btoa(k),b(w)},i.decodePacket=function(m,b,w){if(m===void 0)return o;if(typeof m=="string"){if(m.charAt(0)==="b")return i.decodeBase64Packet(m.substr(1),b);if(w&&(m=g(m),m===!1))return o;var k=m.charAt(0);return Number(k)!=k||!t[k]?o:m.length>1?{type:t[k],data:m.substring(1)}:{type:t[k]}}var F=new Uint8Array(m),k=F[0],S=a(m,1);return u&&b==="blob"&&(S=new u([S])),{type:t[k],data:S}};function g(m){try{m=s.decode(m,{strict:!1})}catch{return!1}return m}i.decodeBase64Packet=function(m,b){var w=t[m.charAt(0)];if(!d)return{type:w,data:{base64:!0,data:m.substr(1)}};var F=d.decode(m.substr(1));return b==="blob"&&u&&(F=new u([F])),{type:w,data:F}},i.encodePayload=function(m,b,w){typeof b=="function"&&(w=b,b=null);var F=f(m);if(b&&F)return u&&!e?i.encodePayloadAsBlob(m,w):i.encodePayloadAsArrayBuffer(m,w);if(!m.length)return w("0:");function k(R){return R.length+":"+R}function S(R,E){i.encodePacket(R,F?b:!1,!1,function(q){E(null,k(q))})}B(m,S,function(R,E){return w(E.join(""))})};function B(m,b,w){for(var F=new Array(m.length),k=h(m.length,w),S=function(E,q,x){b(q,function(_,P){F[E]=P,x(_,F)})},R=0;R<m.length;R++)S(R,m[R],k)}i.decodePayload=function(m,b,w){if(typeof m!="string")return i.decodePayloadAsBinary(m,b,w);typeof b=="function"&&(w=b,b=null);var F;if(m==="")return w(o,0,1);for(var k="",S,R,E=0,q=m.length;E<q;E++){var x=m.charAt(E);if(x!==":"){k+=x;continue}if(k===""||k!=(S=Number(k))||(R=m.substr(E+1,S),k!=R.length))return w(o,0,1);if(R.length){if(F=i.decodePacket(R,b,!1),o.type===F.type&&o.data===F.data)return w(o,0,1);var _=w(F,E+S,q);if(_===!1)return}E+=S,k=""}if(k!=="")return w(o,0,1)},i.encodePayloadAsArrayBuffer=function(m,b){if(!m.length)return b(new ArrayBuffer(0));function w(F,k){i.encodePacket(F,!0,!0,function(S){return k(null,S)})}B(m,w,function(F,k){var S=k.reduce(function(q,x){var _;return typeof x=="string"?_=x.length:_=x.byteLength,q+_.toString().length+_+2},0),R=new Uint8Array(S),E=0;return k.forEach(function(q){var x=typeof q=="string",_=q;if(x){for(var H=new Uint8Array(q.length),P=0;P<q.length;P++)H[P]=q.charCodeAt(P);_=H.buffer}x?R[E++]=0:R[E++]=1;for(var U=_.byteLength.toString(),P=0;P<U.length;P++)R[E++]=parseInt(U[P]);R[E++]=255;for(var H=new Uint8Array(_),P=0;P<H.length;P++)R[E++]=H[P]}),b(R.buffer)})},i.encodePayloadAsBlob=function(m,b){function w(F,k){i.encodePacket(F,!0,!0,function(S){var R=new Uint8Array(1);if(R[0]=1,typeof S=="string"){for(var E=new Uint8Array(S.length),q=0;q<S.length;q++)E[q]=S.charCodeAt(q);S=E.buffer,R[0]=0}for(var x=S instanceof ArrayBuffer?S.byteLength:S.size,_=x.toString(),P=new Uint8Array(_.length+1),q=0;q<_.length;q++)P[q]=parseInt(_[q]);if(P[_.length]=255,u){var U=new u([R.buffer,P.buffer,S]);k(null,U)}})}B(m,w,function(F,k){return b(new u(k))})},i.decodePayloadAsBinary=function(m,b,w){typeof b=="function"&&(w=b,b=null);for(var F=m,k=[];F.byteLength>0;){for(var S=new Uint8Array(F),R=S[0]===0,E="",q=1;S[q]!==255;q++){if(E.length>310)return w(o,0,1);E+=S[q]}F=a(F,2+E.length),E=parseInt(E);var x=a(F,0,E);if(R)try{x=String.fromCharCode.apply(null,new Uint8Array(x))}catch{var _=new Uint8Array(x);x="";for(var q=0;q<_.length;q++)x+=String.fromCharCode(_[q])}k.push(x),F=a(F,E)}var P=k.length;k.forEach(function(U,H){w(i.decodePacket(U,b,!0),H,P)})}}(Ne)),Ne}var Le,Ut;function ut(){if(Ut)return Le;Ut=1;var i=K(),n=Y();Le=f;function f(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.withCredentials=a.withCredentials,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.forceNode=a.forceNode,this.isReactNative=a.isReactNative,this.extraHeaders=a.extraHeaders,this.localAddress=a.localAddress}return n(f.prototype),f.prototype.onError=function(a,h){var s=new Error(a);return s.type="TransportError",s.description=h,this.emit("error",s),this},f.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},f.prototype.send=function(a){if(this.readyState==="open")this.write(a);else throw new Error("Transport not open")},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(a){var h=i.decodePacket(a,this.socket.binaryType);this.onPacket(h)},f.prototype.onPacket=function(a){this.emit("packet",a)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")},Le}var de={},Ht;function ge(){return Ht||(Ht=1,de.encode=function(i){var n="";for(var f in i)i.hasOwnProperty(f)&&(n.length&&(n+="&"),n+=encodeURIComponent(f)+"="+encodeURIComponent(i[f]));return n},de.decode=function(i){for(var n={},f=i.split("&"),a=0,h=f.length;a<h;a++){var s=f[a].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return n}),de}var $e,zt;function me(){return zt||(zt=1,$e=function(i,n){var f=function(){};f.prototype=n.prototype,i.prototype=new f,i.prototype.constructor=i}),$e}var Ue,Xt;function qr(){if(Xt)return Ue;Xt=1;var i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n=64,f={},a=0,h=0,s;function d(e){var r="";do r=i[e%n]+r,e=Math.floor(e/n);while(e>0);return r}function c(e){var r=0;for(h=0;h<e.length;h++)r=r*n+f[e.charAt(h)];return r}function l(){var e=d(+new Date);return e!==s?(a=0,s=e):e+"."+d(a++)}for(;h<n;h++)f[i[h]]=h;return l.encode=d,l.decode=c,Ue=l,Ue}var pe={exports:{}},ve={exports:{}},He,Wt;function Gn(){if(Wt)return He;Wt=1;var i=1e3,n=i*60,f=n*60,a=f*24,h=a*365.25;He=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return s(e);if(t==="number"&&isNaN(e)===!1)return r.long?c(e):d(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function s(e){if(e=String(e),!(e.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(r){var t=parseFloat(r[1]),o=(r[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return t*h;case"days":case"day":case"d":return t*a;case"hours":case"hour":case"hrs":case"hr":case"h":return t*f;case"minutes":case"minute":case"mins":case"min":case"m":return t*n;case"seconds":case"second":case"secs":case"sec":case"s":return t*i;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function d(e){return e>=a?Math.round(e/a)+"d":e>=f?Math.round(e/f)+"h":e>=n?Math.round(e/n)+"m":e>=i?Math.round(e/i)+"s":e+"ms"}function c(e){return l(e,a,"day")||l(e,f,"hour")||l(e,n,"minute")||l(e,i,"second")||e+" ms"}function l(e,r,t){if(!(e<r))return e<r*1.5?Math.floor(e/r)+" "+t:Math.ceil(e/r)+" "+t+"s"}return He}var Jt;function Qn(){return Jt||(Jt=1,function(i,n){n=i.exports=a.debug=a.default=a,n.coerce=l,n.disable=d,n.enable=s,n.enabled=c,n.humanize=Gn(),n.instances=[],n.names=[],n.skips=[],n.formatters={};function f(e){var r=0,t;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}function a(e){var r;function t(){if(t.enabled){var o=t,u=+new Date,p=u-(r||u);o.diff=p,o.prev=r,o.curr=u,r=u;for(var v=new Array(arguments.length),C=0;C<v.length;C++)v[C]=arguments[C];v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var y=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(B,m){if(B==="%%")return B;y++;var b=n.formatters[m];if(typeof b=="function"){var w=v[y];B=b.call(o,w),v.splice(y,1),y--}return B}),n.formatArgs.call(o,v);var g=t.log||n.log||console.log.bind(console);g.apply(o,v)}}return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=f(e),t.destroy=h,typeof n.init=="function"&&n.init(t),n.instances.push(t),t}function h(){var e=n.instances.indexOf(this);return e!==-1?(n.instances.splice(e,1),!0):!1}function s(e){n.save(e),n.names=[],n.skips=[];var r,t=(typeof e=="string"?e:"").split(/[\s,]+/),o=t.length;for(r=0;r<o;r++)t[r]&&(e=t[r].replace(/\*/g,".*?"),e[0]==="-"?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(r=0;r<n.instances.length;r++){var u=n.instances[r];u.enabled=n.enabled(u.namespace)}}function d(){n.enable("")}function c(e){if(e[e.length-1]==="*")return!0;var r,t;for(r=0,t=n.skips.length;r<t;r++)if(n.skips[r].test(e))return!1;for(r=0,t=n.names.length;r<t;r++)if(n.names[r].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}}(ve,ve.exports)),ve.exports}var jt;function Ce(){return jt||(jt=1,function(i,n){var f={};n=i.exports=Qn(),n.log=s,n.formatArgs=h,n.save=d,n.load=c,n.useColors=a,n.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}n.formatters.j=function(e){try{return JSON.stringify(e)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function h(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+n.humanize(this.diff),!!r){var t="color: "+this.color;e.splice(1,0,t,"color: inherit");var o=0,u=0;e[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(o++,p==="%c"&&(u=o))}),e.splice(u,0,t)}}function s(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function d(e){try{e==null?n.storage.removeItem("debug"):n.storage.debug=e}catch{}}function c(){var e;try{e=n.storage.debug}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=f.DEBUG),e}n.enable(c());function l(){try{return window.localStorage}catch{}}}(pe,pe.exports)),pe.exports}var ze,Vt;function Er(){if(Vt)return ze;Vt=1;var i=ut(),n=ge(),f=K(),a=me(),h=qr(),s=Ce()("engine.io-client:polling");ze=c;var d=function(){var l=ct(),e=new l({xdomain:!1});return e.responseType!=null}();function c(l){var e=l&&l.forceBase64;(!d||e)&&(this.supportsBinary=!1),i.call(this,l)}return a(c,i),c.prototype.name="polling",c.prototype.doOpen=function(){this.poll()},c.prototype.pause=function(l){var e=this;this.readyState="pausing";function r(){s("paused"),e.readyState="paused",l()}if(this.polling||!this.writable){var t=0;this.polling&&(s("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){s("pre-pause polling complete"),--t||r()})),this.writable||(s("we are currently writing - waiting to pause"),t++,this.once("drain",function(){s("pre-pause writing complete"),--t||r()}))}else r()},c.prototype.poll=function(){s("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},c.prototype.onData=function(l){var e=this;s("polling got data %s",l);var r=function(t,o,u){if(e.readyState==="opening"&&t.type==="open"&&e.onOpen(),t.type==="close")return e.onClose(),!1;e.onPacket(t)};f.decodePayload(l,this.socket.binaryType,r),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():s('ignoring poll - transport state "%s"',this.readyState))},c.prototype.doClose=function(){var l=this;function e(){s("writing close packet"),l.write([{type:"close"}])}this.readyState==="open"?(s("transport open - closing"),e()):(s("transport not open - deferring close"),this.once("open",e))},c.prototype.write=function(l){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};f.encodePayload(l,this.supportsBinary,function(t){e.doWrite(t,r)})},c.prototype.uri=function(){var l=this.query||{},e=this.secure?"https":"http",r="";this.timestampRequests!==!1&&(l[this.timestampParam]=h()),!this.supportsBinary&&!l.sid&&(l.b64=1),l=n.encode(l),this.port&&(e==="https"&&Number(this.port)!==443||e==="http"&&Number(this.port)!==80)&&(r=":"+this.port),l.length&&(l="?"+l);var t=this.hostname.indexOf(":")!==-1;return e+"://"+(t?"["+this.hostname+"]":this.hostname)+r+this.path+l},ze}var Kt;function ei(){if(Kt)return le.exports;Kt=1;var i=ct(),n=Er(),f=Y(),a=me(),h=Ce()("engine.io-client:polling-xhr"),s=at();le.exports=c,le.exports.Request=l;function d(){}function c(t){if(n.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,typeof location<"u"){var o=location.protocol==="https:",u=location.port;u||(u=o?443:80),this.xd=typeof location<"u"&&t.hostname!==location.hostname||u!==t.port,this.xs=t.secure!==o}}a(c,n),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},c.prototype.doWrite=function(t,o){var u=typeof t!="string"&&t!==void 0,p=this.request({method:"POST",data:t,isBinary:u}),v=this;p.on("success",o),p.on("error",function(C){v.onError("xhr post error",C)}),this.sendXhr=p},c.prototype.doPoll=function(){h("xhr poll");var t=this.request(),o=this;t.on("data",function(u){o.onData(u)}),t.on("error",function(u){o.onError("xhr poll error",u)}),this.pollXhr=t};function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(f(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var o=this.xhr=new i(t),u=this;try{h("xhr open %s: %s",this.method,this.uri),o.open(this.method,this.uri,this.async);try{if(this.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(var p in this.extraHeaders)this.extraHeaders.hasOwnProperty(p)&&o.setRequestHeader(p,this.extraHeaders[p])}}catch{}if(this.method==="POST")try{this.isBinary?o.setRequestHeader("Content-type","application/octet-stream"):o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in o&&(o.withCredentials=this.withCredentials),this.requestTimeout&&(o.timeout=this.requestTimeout),this.hasXDR()?(o.onload=function(){u.onLoad()},o.onerror=function(){u.onError(o.responseText)}):o.onreadystatechange=function(){if(o.readyState===2)try{var v=o.getResponseHeader("Content-Type");(u.supportsBinary&&v==="application/octet-stream"||v==="application/octet-stream; charset=UTF-8")&&(o.responseType="arraybuffer")}catch{}o.readyState===4&&(o.status===200||o.status===1223?u.onLoad():setTimeout(function(){u.onError(typeof o.status=="number"?o.status:0)},0))},h("xhr data %s",this.data),o.send(this.data)}catch(v){setTimeout(function(){u.onError(v)},0);return}typeof document<"u"&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var o;try{o=this.xhr.getResponseHeader("Content-Type")}catch{}o==="application/octet-stream"||o==="application/octet-stream; charset=UTF-8"?t=this.xhr.response||this.xhr.responseText:t=this.xhr.responseText}catch(u){this.onError(u)}t!=null&&this.onData(t)},l.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r);else if(typeof addEventListener=="function"){var e="onpagehide"in s?"pagehide":"unload";addEventListener(e,r,!1)}}function r(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}return le.exports}var Xe,Yt;function ti(){if(Yt)return Xe;Yt=1;var i=Er(),n=me(),f=at();Xe=c;var a=/\n/g,h=/\\n/g,s;function d(){}function c(l){i.call(this,l),this.query=this.query||{},s||(s=f.___eio=f.___eio||[]),this.index=s.length;var e=this;s.push(function(r){e.onData(r)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){e.script&&(e.script.onerror=d)},!1)}return n(c,i),c.prototype.supportsBinary=!1,c.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},c.prototype.doPoll=function(){var l=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(o){l.onError("jsonp poll error",o)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var t=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);t&&setTimeout(function(){var o=document.createElement("iframe");document.body.appendChild(o),document.body.removeChild(o)},100)},c.prototype.doWrite=function(l,e){var r=this;if(!this.form){var t=document.createElement("form"),o=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index,p;t.className="socketio",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.target=u,t.method="POST",t.setAttribute("accept-charset","utf-8"),o.name="d",t.appendChild(o),document.body.appendChild(t),this.form=t,this.area=o}this.form.action=this.uri();function v(){C(),e()}function C(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(g){r.onError("jsonp polling iframe removal error",g)}try{var y='<iframe src="javascript:0" name="'+r.iframeId+'">';p=document.createElement(y)}catch{p=document.createElement("iframe"),p.name=r.iframeId,p.src="javascript:0"}p.id=r.iframeId,r.form.appendChild(p),r.iframe=p}C(),l=l.replace(h,`\\
`),this.area.value=l.replace(a,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){r.iframe.readyState==="complete"&&v()}:this.iframe.onload=v},Xe}const ri={},ni=Object.freeze(Object.defineProperty({__proto__:null,default:ri},Symbol.toStringTag,{value:"Module"})),ii=Cn(ni);var We,Zt;function oi(){if(Zt)return We;Zt=1;var i=ut(),n=K(),f=ge(),a=me(),h=qr(),s=Ce()("engine.io-client:websocket"),d,c;if(typeof WebSocket<"u"?d=WebSocket:typeof self<"u"&&(d=self.WebSocket||self.MozWebSocket),typeof window>"u")try{c=ii}catch{}var l=d||c;We=e;function e(r){var t=r&&r.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=r.perMessageDeflate,this.usingBrowserWebSocket=d&&!r.forceNode,this.protocols=r.protocols,this.usingBrowserWebSocket||(l=c),i.call(this,r)}return a(e,i),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var r=this.uri(),t=this.protocols,o={};this.isReactNative||(o.agent=this.agent,o.perMessageDeflate=this.perMessageDeflate,o.pfx=this.pfx,o.key=this.key,o.passphrase=this.passphrase,o.cert=this.cert,o.ca=this.ca,o.ciphers=this.ciphers,o.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(o.headers=this.extraHeaders),this.localAddress&&(o.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new l(r,t):new l(r):new l(r,t,o)}catch(u){return this.emit("error",u)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var r=this;this.ws.onopen=function(){r.onOpen()},this.ws.onclose=function(){r.onClose()},this.ws.onmessage=function(t){r.onData(t.data)},this.ws.onerror=function(t){r.onError("websocket error",t)}},e.prototype.write=function(r){var t=this;this.writable=!1;for(var o=r.length,u=0,p=o;u<p;u++)(function(C){n.encodePacket(C,t.supportsBinary,function(y){if(!t.usingBrowserWebSocket){var g={};if(C.options&&(g.compress=C.options.compress),t.perMessageDeflate){var B=typeof y=="string"?Buffer.byteLength(y):y.length;B<t.perMessageDeflate.threshold&&(g.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(y):t.ws.send(y,g)}catch{s("websocket closed before onclose event")}--o||v()})})(r[u]);function v(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}},e.prototype.onClose=function(){i.prototype.onClose.call(this)},e.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()},e.prototype.uri=function(){var r=this.query||{},t=this.secure?"wss":"ws",o="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(o=":"+this.port),this.timestampRequests&&(r[this.timestampParam]=h()),this.supportsBinary||(r.b64=1),r=f.encode(r),r.length&&(r="?"+r);var u=this.hostname.indexOf(":")!==-1;return t+"://"+(u?"["+this.hostname+"]":this.hostname)+o+this.path+r},e.prototype.check=function(){return!!l&&!("__initialize"in l&&this.name===e.prototype.name)},We}var Gt;function Qt(){if(Gt)return ue;Gt=1;var i=ct(),n=ei(),f=ti(),a=oi();ue.polling=h,ue.websocket=a;function h(s){var d,c=!1,l=!1,e=s.jsonp!==!1;if(typeof location<"u"){var r=location.protocol==="https:",t=location.port;t||(t=r?443:80),c=s.hostname!==location.hostname||t!==s.port,l=s.secure!==r}if(s.xdomain=c,s.xscheme=l,d=new i(s),"open"in d&&!s.forceJSONP)return new n(s);if(!e)throw new Error("JSONP disabled");return new f(s)}return ue}var Je,er;function Tr(){if(er)return Je;er=1;var i=[].indexOf;return Je=function(n,f){if(i)return n.indexOf(f);for(var a=0;a<n.length;++a)if(n[a]===f)return a;return-1},Je}var je,tr;function si(){if(tr)return je;tr=1;var i=Qt(),n=Y(),f=Ce()("engine.io-client:socket"),a=Tr(),h=K(),s=Ar(),d=ge();je=c;function c(e,r){if(!(this instanceof c))return new c(e,r);r=r||{},e&&typeof e=="object"&&(r=e,e=null),e?(e=s(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=s(r.host).host),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=r.query||{},typeof this.query=="string"&&(this.query=d.decode(this.query)),this.upgrade=r.upgrade!==!1,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=r.jsonp!==!1,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.withCredentials=r.withCredentials!==!1,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=r.perMessageDeflate!==!1?r.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||void 0,this.key=r.key||void 0,this.passphrase=r.passphrase||void 0,this.cert=r.cert||void 0,this.ca=r.ca||void 0,this.ciphers=r.ciphers||void 0,this.rejectUnauthorized=r.rejectUnauthorized===void 0?!0:r.rejectUnauthorized,this.forceNode=!!r.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}c.priorWebsocketSuccess=!1,n(c.prototype),c.protocol=h.protocol,c.Socket=c,c.Transport=ut(),c.transports=Qt(),c.parser=K(),c.prototype.createTransport=function(e){f('creating transport "%s"',e);var r=l(this.query);r.EIO=h.protocol,r.transport=e;var t=this.transportOptions[e]||{};this.id&&(r.sid=this.id);var o=new i[e]({query:r,socket:this,agent:t.agent||this.agent,hostname:t.hostname||this.hostname,port:t.port||this.port,secure:t.secure||this.secure,path:t.path||this.path,forceJSONP:t.forceJSONP||this.forceJSONP,jsonp:t.jsonp||this.jsonp,forceBase64:t.forceBase64||this.forceBase64,enablesXDR:t.enablesXDR||this.enablesXDR,withCredentials:t.withCredentials||this.withCredentials,timestampRequests:t.timestampRequests||this.timestampRequests,timestampParam:t.timestampParam||this.timestampParam,policyPort:t.policyPort||this.policyPort,pfx:t.pfx||this.pfx,key:t.key||this.key,passphrase:t.passphrase||this.passphrase,cert:t.cert||this.cert,ca:t.ca||this.ca,ciphers:t.ciphers||this.ciphers,rejectUnauthorized:t.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:t.perMessageDeflate||this.perMessageDeflate,extraHeaders:t.extraHeaders||this.extraHeaders,forceNode:t.forceNode||this.forceNode,localAddress:t.localAddress||this.localAddress,requestTimeout:t.requestTimeout||this.requestTimeout,protocols:t.protocols||void 0,isReactNative:this.isReactNative});return o};function l(e){var r={};for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}return c.prototype.open=function(){var e;if(this.rememberUpgrade&&c.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){var r=this;setTimeout(function(){r.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)},c.prototype.setTransport=function(e){f("setting transport %s",e.name);var r=this;this.transport&&(f("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){r.onDrain()}).on("packet",function(t){r.onPacket(t)}).on("error",function(t){r.onError(t)}).on("close",function(){r.onClose("transport close")})},c.prototype.probe=function(e){f('probing transport "%s"',e);var r=this.createTransport(e,{probe:1}),t=!1,o=this;c.priorWebsocketSuccess=!1;function u(){if(o.onlyBinaryUpgrades){var m=!this.supportsBinary&&o.transport.supportsBinary;t=t||m}t||(f('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",function(b){if(!t)if(b.type==="pong"&&b.data==="probe"){if(f('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",r),!r)return;c.priorWebsocketSuccess=r.name==="websocket",f('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){t||o.readyState!=="closed"&&(f("changing transport and sending upgrade packet"),B(),o.setTransport(r),r.send([{type:"upgrade"}]),o.emit("upgrade",r),r=null,o.upgrading=!1,o.flush())})}else{f('probe transport "%s" failed',e);var w=new Error("probe error");w.transport=r.name,o.emit("upgradeError",w)}}))}function p(){t||(t=!0,B(),r.close(),r=null)}function v(m){var b=new Error("probe error: "+m);b.transport=r.name,p(),f('probe transport "%s" failed because of error: %s',e,m),o.emit("upgradeError",b)}function C(){v("transport closed")}function y(){v("socket closed")}function g(m){r&&m.name!==r.name&&(f('"%s" works - aborting "%s"',m.name,r.name),p())}function B(){r.removeListener("open",u),r.removeListener("error",v),r.removeListener("close",C),o.removeListener("close",y),o.removeListener("upgrading",g)}r.once("open",u),r.once("error",v),r.once("close",C),this.once("close",y),this.once("upgrading",g),r.open()},c.prototype.onOpen=function(){if(f("socket open"),this.readyState="open",c.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){f("starting upgrade probes");for(var e=0,r=this.upgrades.length;e<r;e++)this.probe(this.upgrades[e])}},c.prototype.onPacket=function(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(f('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else f('packet received with socket readyState "%s"',this.readyState)},c.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},c.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var r=this;r.pingTimeoutTimer=setTimeout(function(){r.readyState!=="closed"&&r.onClose("ping timeout")},e||r.pingInterval+r.pingTimeout)},c.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){f("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},c.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},c.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},c.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(f("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},c.prototype.write=c.prototype.send=function(e,r,t){return this.sendPacket("message",e,r,t),this},c.prototype.sendPacket=function(e,r,t,o){if(typeof r=="function"&&(o=r,r=void 0),typeof t=="function"&&(o=t,t=null),!(this.readyState==="closing"||this.readyState==="closed")){t=t||{},t.compress=t.compress!==!1;var u={type:e,data:r,options:t};this.emit("packetCreate",u),this.writeBuffer.push(u),o&&this.once("flush",o),this.flush()}},c.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():r()}):this.upgrading?o():r()}function r(){e.onClose("forced close"),f("socket closing - telling transport to close"),e.transport.close()}function t(){e.removeListener("upgrade",t),e.removeListener("upgradeError",t),r()}function o(){e.once("upgrade",t),e.once("upgradeError",t)}return this},c.prototype.onError=function(e){f("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},c.prototype.onClose=function(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){f('socket close with reason: "%s"',e);var t=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,r),t.writeBuffer=[],t.prevBufferLen=0}},c.prototype.filterUpgrades=function(e){for(var r=[],t=0,o=e.length;t<o;t++)~a(this.transports,e[t])&&r.push(e[t]);return r},je}var rr;function ai(){return rr||(rr=1,ce.exports=si(),ce.exports.parser=K()),ce.exports}var Ve={exports:{}},Ke,nr;function ci(){if(nr)return Ke;nr=1,Ke=i;function i(n,f){var a=[];f=f||0;for(var h=f||0;h<n.length;h++)a[h-f]=n[h];return a}return Ke}var Ye,ir;function xr(){if(ir)return Ye;ir=1,Ye=i;function i(n,f,a){return n.on(f,a),{destroy:function(){n.removeListener(f,a)}}}return Ye}var Ze,or;function Nr(){if(or)return Ze;or=1;var i=[].slice;return Ze=function(n,f){if(typeof f=="string"&&(f=n[f]),typeof f!="function")throw new Error("bind() requires a function");var a=i.call(arguments,2);return function(){return f.apply(n,a.concat(i.call(arguments)))}},Ze}var sr;function _r(){return sr||(sr=1,function(i,n){var f=st(),a=Y(),h=ci(),s=xr(),d=Nr(),c=ye()("socket.io-client:socket"),l=ge(),e=Rr();i.exports=o;var r={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},t=a.prototype.emit;function o(u,p,v){this.io=u,this.nsp=p,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},v&&v.query&&(this.query=v.query),this.io.autoConnect&&this.open()}a(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var u=this.io;this.subs=[s(u,"open",d(this,"onopen")),s(u,"packet",d(this,"onpacket")),s(u,"close",d(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var u=h(arguments);return u.unshift("message"),this.emit.apply(this,u),this},o.prototype.emit=function(u){if(r.hasOwnProperty(u))return t.apply(this,arguments),this;var p=h(arguments),v={type:(this.flags.binary!==void 0?this.flags.binary:e(p))?f.BINARY_EVENT:f.EVENT,data:p};return v.options={},v.options.compress=!this.flags||this.flags.compress!==!1,typeof p[p.length-1]=="function"&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=p.pop(),v.id=this.ids++),this.connected?this.packet(v):this.sendBuffer.push(v),this.flags={},this},o.prototype.packet=function(u){u.nsp=this.nsp,this.io.packet(u)},o.prototype.onopen=function(){if(c("transport is open - connecting"),this.nsp!=="/")if(this.query){var u=typeof this.query=="object"?l.encode(this.query):this.query;c("sending connect packet with query %s",u),this.packet({type:f.CONNECT,query:u})}else this.packet({type:f.CONNECT})},o.prototype.onclose=function(u){c("close (%s)",u),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",u)},o.prototype.onpacket=function(u){var p=u.nsp===this.nsp,v=u.type===f.ERROR&&u.nsp==="/";if(!(!p&&!v))switch(u.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(u);break;case f.BINARY_EVENT:this.onevent(u);break;case f.ACK:this.onack(u);break;case f.BINARY_ACK:this.onack(u);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",u.data);break}},o.prototype.onevent=function(u){var p=u.data||[];c("emitting event %j",p),u.id!=null&&(c("attaching ack callback to event"),p.push(this.ack(u.id))),this.connected?t.apply(this,p):this.receiveBuffer.push(p)},o.prototype.ack=function(u){var p=this,v=!1;return function(){if(!v){v=!0;var C=h(arguments);c("sending ack %j",C),p.packet({type:e(C)?f.BINARY_ACK:f.ACK,id:u,data:C})}}},o.prototype.onack=function(u){var p=this.acks[u.id];typeof p=="function"?(c("calling ack %s with %j",u.id,u.data),p.apply(this,u.data),delete this.acks[u.id]):c("bad ack %s",u.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},o.prototype.emitBuffered=function(){var u;for(u=0;u<this.receiveBuffer.length;u++)t.apply(this,this.receiveBuffer[u]);for(this.receiveBuffer=[],u=0;u<this.sendBuffer.length;u++)this.packet(this.sendBuffer[u]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var u=0;u<this.subs.length;u++)this.subs[u].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(u){return this.flags.compress=u,this},o.prototype.binary=function(u){return this.flags.binary=u,this}}(Ve)),Ve.exports}var Ge,ar;function ui(){if(ar)return Ge;ar=1,Ge=i;function i(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}return i.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var f=Math.random(),a=Math.floor(f*this.jitter*n);n=Math.floor(f*10)&1?n+a:n-a}return Math.min(n,this.max)|0},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(n){this.ms=n},i.prototype.setMax=function(n){this.max=n},i.prototype.setJitter=function(n){this.jitter=n},Ge}var Qe,cr;function ur(){if(cr)return Qe;cr=1;var i=ai(),n=_r(),f=Y(),a=st(),h=xr(),s=Nr(),d=ye()("socket.io-client:manager"),c=Tr(),l=ui(),e=Object.prototype.hasOwnProperty;Qe=r;function r(t,o){if(!(this instanceof r))return new r(t,o);t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.nsps={},this.subs=[],this.opts=o,this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor(o.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var u=o.parser||a;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this.autoConnect=o.autoConnect!==!1,this.autoConnect&&this.open()}return r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)e.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)e.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},r.prototype.generateId=function(t){return(t==="/"?"":t+"#")+this.engine.id},f(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t,o){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=i(this.uri,this.opts);var u=this.engine,p=this;this.readyState="opening",this.skipReconnect=!1;var v=h(u,"open",function(){p.onopen(),t&&t()}),C=h(u,"error",function(B){if(d("connect_error"),p.cleanup(),p.readyState="closed",p.emitAll("connect_error",B),t){var m=new Error("Connection error");m.data=B,t(m)}else p.maybeReconnectOnOpen()});if(this._timeout!==!1){var y=this._timeout;d("connect attempt will timeout after %d",y),y===0&&v.destroy();var g=setTimeout(function(){d("connect attempt timed out after %d",y),v.destroy(),u.close(),u.emit("error","timeout"),p.emitAll("connect_timeout",y)},y);this.subs.push({destroy:function(){clearTimeout(g)}})}return this.subs.push(v),this.subs.push(C),this},r.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(h(t,"data",s(this,"ondata"))),this.subs.push(h(t,"ping",s(this,"onping"))),this.subs.push(h(t,"pong",s(this,"onpong"))),this.subs.push(h(t,"error",s(this,"onerror"))),this.subs.push(h(t,"close",s(this,"onclose"))),this.subs.push(h(this.decoder,"decoded",s(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){d("error",t),this.emitAll("error",t)},r.prototype.socket=function(t,o){var u=this.nsps[t];if(!u){u=new n(this,t,o),this.nsps[t]=u;var p=this;u.on("connecting",v),u.on("connect",function(){u.id=p.generateId(t)}),this.autoConnect&&v()}function v(){~c(p.connecting,u)||p.connecting.push(u)}return u},r.prototype.destroy=function(t){var o=c(this.connecting,t);~o&&this.connecting.splice(o,1),!this.connecting.length&&this.close()},r.prototype.packet=function(t){d("writing packet %j",t);var o=this;t.query&&t.type===0&&(t.nsp+="?"+t.query),o.encoding?o.packetBuffer.push(t):(o.encoding=!0,this.encoder.encode(t,function(u){for(var p=0;p<u.length;p++)o.engine.write(u[p],t.options);o.encoding=!1,o.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){d("cleanup");for(var t=this.subs.length,o=0;o<t;o++){var u=this.subs.shift();u.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var o=this.backoff.duration();d("will wait %dms before reconnect attempt",o),this.reconnecting=!0;var u=setTimeout(function(){t.skipReconnect||(d("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),!t.skipReconnect&&t.open(function(p){p?(d("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",p.data)):(d("reconnect success"),t.onreconnect())}))},o);this.subs.push({destroy:function(){clearTimeout(u)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)},Qe}var fr;function fi(){return fr||(fr=1,function(i,n){var f=$n(),a=st(),h=ur(),s=ye()("socket.io-client");i.exports=n=c;var d=n.managers={};function c(l,e){typeof l=="object"&&(e=l,l=void 0),e=e||{};var r=f(l),t=r.source,o=r.id,u=r.path,p=d[o]&&u in d[o].nsps,v=e.forceNew||e["force new connection"]||e.multiplex===!1||p,C;return v?(s("ignoring socket cache for %s",t),C=h(t,e)):(d[o]||(s("new io instance for %s",t),d[o]=h(t,e)),C=d[o]),r.query&&!e.query&&(e.query=r.query),C.socket(r.path,e)}n.protocol=a.protocol,n.connect=c,n.Manager=ur(),n.Socket=_r()}(ne,ne.exports)),ne.exports}var li=fi();const hi=bn(li),wi=dn("socket",()=>hi("wss://st5.aozao.vip/",{transports:["websocket"]}));export{bi as T,Ci as a,wi as u};
