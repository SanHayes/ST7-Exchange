import{d as T,m as N,n as p,t as C,c as V,r as y,u as j,a as m,g as z,B as D,b as F,w as R,e as M,f as U,h as q,i as S,j as G,k as H,l as K,I as L,o as Y,p as Z,q as J,s as B,v as Q,x as P,y as W,z as I,F as k,A as X,C as _,D as ee,E as te,G as ae,H as ne}from"./index-Bq8SIbox.js";import{u as oe}from"./use-placeholder-CBKM7z8B.js";import{u as re,r as se}from"./use-route-di6ryF3I.js";const[w,A]=V("tabbar"),ce={route:Boolean,fixed:C,border:C,zIndex:p,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:N(0),safeAreaInsetBottom:{type:Boolean,default:null}},O=Symbol(w);var le=T({name:w,props:ce,emits:["change","update:modelValue"],setup(e,{emit:v,slots:s}){const c=y(),{linkChildren:u}=j(O),r=oe(c,A),f=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},n=()=>{var t;const{fixed:a,zIndex:o,border:d}=e;return m("div",{ref:c,role:"tablist",style:z(o),class:[A({fixed:a}),{[D]:d,"van-safe-area-bottom":f()}]},[(t=s.default)==null?void 0:t.call(s)])};return u({props:e,setActive:(t,a)=>{F(e.beforeChange,{args:[t],done(){v("update:modelValue",t),v("change",t),a()}})}}),()=>e.fixed&&e.placeholder?r(n):n()}});const ue=R(le),[ie,h]=V("tabbar-item"),de=M({},se,{dot:Boolean,icon:String,name:p,badge:p,badgeProps:Object,iconPrefix:String});var me=T({name:ie,props:de,emits:["click"],setup(e,{emit:v,slots:s}){const c=re(),u=U().proxy,{parent:r,index:f}=q(O);if(!r)return;const n=S(()=>{var a;const{route:o,modelValue:d}=r.props;if(o&&"$route"in u){const{$route:i}=u,{to:x}=e,b=G(x)?x:{path:x};return!!i.matched.find(g=>{const $="path"in b&&b.path===g.path,E="name"in b&&b.name===g.name;return $||E})}return((a=e.name)!=null?a:f.value)===d}),l=a=>{var o;n.value||r.setActive((o=e.name)!=null?o:f.value,c),v("click",a)},t=()=>{if(s.icon)return s.icon({active:n.value});if(e.icon)return m(L,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var a;const{dot:o,badge:d}=e,{activeColor:i,inactiveColor:x}=r.props,b=n.value?i:x;return m("div",{role:"tab",class:h({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:l},[m(H,K({dot:o,class:h("icon"),content:d},e.badgeProps),{default:t}),m("div",{class:h("text")},[(a=s.default)==null?void 0:a.call(s,{active:n.value})])])}}});const ve=R(me),_e={__name:"Tabs",setup(e){const v=X(),s=Y();console.log(s);const{t:c}=Z(),u=S(()=>[{icon:"home-o",txt:c("nav.market"),url:"/"},{icon:"orders-o",txt:c("nav.order"),url:"/order"},{icon:"exchange",txt:c("nav.trade"),url:"/trade"},{icon:"label-o",txt:c("nav.news"),url:"/news"},{icon:"user-o",txt:c("nav.mine"),url:"/mine"}]),r=y(0);function f(l){v.push(u.value[l].url)}n(s),J(l=>{n(l)});function n(l){const{path:t}=l;console.log("defaultActive",l);const a=u.value.findIndex(o=>o.url===t);a>-1&&(r.value=a)}return(l,t)=>{const a=Q("router-view"),o=ve,d=ue;return _(),B(k,null,[m(a),m(d,{modelValue:I(r),"onUpdate:modelValue":t[0]||(t[0]=i=>W(r)?r.value=i:null),onChange:f},{default:P(()=>[(_(!0),B(k,null,ee(I(u),i=>(_(),te(o,{icon:i.icon},{default:P(()=>[ae(ne(i.txt),1)]),_:2},1032,["icon"]))),256))]),_:1},8,["modelValue"])],64)}}};export{_e as default};
