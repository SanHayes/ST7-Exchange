import{d as T,m as N,n as g,t as C,c as V,r as y,u as j,a as z,b as m,g as D,B as F,e as M,w as R,f as K,h as L,i as U,j as q,k as S,l as G,o as H,p as J,I as Y,q as Z,s as Q,v as W,x as X,y as B,z as ee,A as P,C as te,D as I,F as k,E as ae,G as _,H as ne,J as oe,K as re,L as se}from"./index-Bls5mtmE.js";const[w,A]=V("tabbar"),ce={route:Boolean,fixed:C,border:C,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:N(0),safeAreaInsetBottom:{type:Boolean,default:null}},O=Symbol(w);var le=T({name:w,props:ce,emits:["change","update:modelValue"],setup(e,{emit:v,slots:s}){const c=y(),{linkChildren:u}=j(O),r=z(c,A),f=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},n=()=>{var t;const{fixed:a,zIndex:o,border:d}=e;return m("div",{ref:c,role:"tablist",style:D(o),class:[A({fixed:a}),{[F]:d,"van-safe-area-bottom":f()}]},[(t=s.default)==null?void 0:t.call(s)])};return u({props:e,setActive:(t,a)=>{M(e.beforeChange,{args:[t],done(){v("update:modelValue",t),v("change",t),a()}})}}),()=>e.fixed&&e.placeholder?r(n):n()}});const ue=R(le),[ie,h]=V("tabbar-item"),de=K({},Z,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var me=T({name:ie,props:de,emits:["click"],setup(e,{emit:v,slots:s}){const c=L(),u=U().proxy,{parent:r,index:f}=q(O);if(!r)return;const n=S(()=>{var a;const{route:o,modelValue:d}=r.props;if(o&&"$route"in u){const{$route:i}=u,{to:x}=e,b=G(x)?x:{path:x};return!!i.matched.find(p=>{const $="path"in b&&b.path===p.path,E="name"in b&&b.name===p.name;return $||E})}return((a=e.name)!=null?a:f.value)===d}),l=a=>{var o;n.value||r.setActive((o=e.name)!=null?o:f.value,c),v("click",a)},t=()=>{if(s.icon)return s.icon({active:n.value});if(e.icon)return m(Y,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var a;const{dot:o,badge:d}=e,{activeColor:i,inactiveColor:x}=r.props,b=n.value?i:x;return m("div",{role:"tab",class:h({active:n.value}),style:{color:b},tabindex:0,"aria-selected":n.value,onClick:l},[m(H,J({dot:o,class:h("icon"),content:d},e.badgeProps),{default:t}),m("div",{class:h("text")},[(a=s.default)==null?void 0:a.call(s,{active:n.value})])])}}});const ve=R(me),be={__name:"Tabs",setup(e){const v=ae(),s=Q();console.log(s);const{t:c}=W(),u=S(()=>[{icon:"home-o",txt:c("nav.market"),url:"/"},{icon:"orders-o",txt:c("nav.order"),url:"/order"},{icon:"exchange",txt:c("nav.trade"),url:"/trade"},{icon:"label-o",txt:c("nav.news"),url:"/news"},{icon:"user-o",txt:c("nav.mine"),url:"/mine"}]),r=y(0);function f(l){v.push(u.value[l].url)}n(s),X(l=>{n(l)});function n(l){const{path:t}=l;console.log("defaultActive",l);const a=u.value.findIndex(o=>o.url===t);a>-1&&(r.value=a)}return(l,t)=>{const a=ee("router-view"),o=ve,d=ue;return _(),B(k,null,[m(a),m(d,{modelValue:I(r),"onUpdate:modelValue":t[0]||(t[0]=i=>te(r)?r.value=i:null),onChange:f},{default:P(()=>[(_(!0),B(k,null,ne(I(u),i=>(_(),oe(o,{icon:i.icon},{default:P(()=>[re(se(i.txt),1)]),_:2},1032,["icon"]))),256))]),_:1},8,["modelValue"])],64)}}};export{be as default};
