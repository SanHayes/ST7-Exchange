import{d as T,m as E,n as g,t as B,c as V,r as y,u as N,a as D,b as d,g as F,B as M,e as K,w as R,f as L,h as U,i as q,j as G,k as S,l as H,o as J,p as Y,I as w,q as Z,s as Q,v as W,x as X,y as P,z as ee,A as _,C as te,D as I,F as k,E as ne,G as p,H as ae,J as oe,K as re,L as ce}from"./index-B5cGjNwt.js";const[O,A]=V("tabbar"),se={route:Boolean,fixed:B,border:B,zIndex:g,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:E(0),safeAreaInsetBottom:{type:Boolean,default:null}},$=Symbol(O);var le=T({name:O,props:se,emits:["change","update:modelValue"],setup(e,{emit:f,slots:s}){const l=y(),{linkChildren:u}=N($),c=D(l,A),v=()=>{var t;return(t=e.safeAreaInsetBottom)!=null?t:e.fixed},a=()=>{var t;const{fixed:n,zIndex:o,border:m}=e;return d("div",{ref:l,role:"tablist",style:F(o),class:[A({fixed:n}),{[M]:m,"van-safe-area-bottom":v()}]},[(t=s.default)==null?void 0:t.call(s)])};return u({props:e,setActive:(t,n)=>{K(e.beforeChange,{args:[t],done(){f("update:modelValue",t),f("change",t),n()}})}}),()=>e.fixed&&e.placeholder?c(a):a()}});const ie=R(le),[ue,h]=V("tabbar-item"),de=L({},Z,{dot:Boolean,icon:String,name:g,badge:g,badgeProps:Object,iconPrefix:String});var me=T({name:ue,props:de,emits:["click"],setup(e,{emit:f,slots:s}){const l=U(),u=q().proxy,{parent:c,index:v}=G($);if(!c)return;const a=S(()=>{var n;const{route:o,modelValue:m}=c.props;if(o&&"$route"in u){const{$route:x}=u,{to:r}=e,b=H(r)?r:{path:r};return!!x.matched.find(C=>{const j="path"in b&&b.path===C.path,z="name"in b&&b.name===C.name;return j||z})}return((n=e.name)!=null?n:v.value)===m}),i=n=>{var o;a.value||c.setActive((o=e.name)!=null?o:v.value,l),f("click",n)},t=()=>{if(s.icon)return s.icon({active:a.value});if(e.icon)return d(w,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var n;const{dot:o,badge:m}=e,{activeColor:x,inactiveColor:r}=c.props,b=a.value?x:r;return d("div",{role:"tab",class:h({active:a.value}),style:{color:b},tabindex:0,"aria-selected":a.value,onClick:i},[d(J,Y({dot:o,class:h("icon"),content:m},e.badgeProps),{default:t}),d("div",{class:h("text")},[(n=s.default)==null?void 0:n.call(s,{active:a.value})])])}}});const fe=R(me),be={__name:"Tabs",setup(e){const f=ne(),s=Q();console.log(s);const{t:l}=W(),u=S(()=>[{icon:"home-o",txt:l("nav.market"),url:"/"},{icon:"orders-o",txt:l("nav.order"),url:"/order"},{icon:"exchange",txt:l("nav.trade"),url:"/trade"},{prefix:"iconfont",icon:"jiageweihu",txt:l("loan.loan"),url:"/loan"},{icon:"user-o",txt:l("nav.mine"),url:"/mine"}]),c=y(0);function v(i){f.push(u.value[i].url)}a(s),X(i=>{a(i)});function a(i){const{path:t}=i;console.log("defaultActive",i);const n=u.value.findIndex(o=>o.url===t);n>-1&&(c.value=n)}return(i,t)=>{const n=ee("router-view"),o=w,m=fe,x=ie;return p(),P(k,null,[d(n),d(x,{modelValue:I(c),"onUpdate:modelValue":t[0]||(t[0]=r=>te(c)?c.value=r:null),onChange:v},{default:_(()=>[(p(!0),P(k,null,ae(I(u),r=>(p(),oe(m,{icon:r.icon},{icon:_(()=>[d(o,{"class-prefix":r.prefix,name:r.icon,size:"22"},null,8,["class-prefix","name"])]),default:_(()=>[re(" "+ce(r.txt),1)]),_:2},1032,["icon"]))),256))]),_:1},8,["modelValue"])],64)}}};export{be as default};
