import{_ as Y,v as B,ae as D,r as j,y as g,b as e,A as r,D as l,F as y,z as H,G as i,I as L,H as N,J as p,P as T,R as u,Q as w}from"./index-k7Oxk6bG.js";import{L as x}from"./index-AW08CTT8.js";import{C as I}from"./index-B_Cn3cTN.js";import{S as M}from"./index-iBrWHX6E.js";import{C as z}from"./index-DaUhtG7T.js";import{T as R}from"./index-Dff2Ns62.js";import{N as S}from"./index-DHE8hHhS.js";import{r as V}from"./news-BjS0CXsw.js";import{h as v}from"./moment-C5S46NFB.js";import"./use-tab-status-5fYYAjOM.js";const F={class:"text-right flex justify-right align-center px-4"},G={__name:"Record",setup(P){const{t:U}=B(),a=D({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function h(){a.page+=1;const n={page:a.page,limit:a.limit};V(n).then(o=>{if((o==null?void 0:o.type)==="ok"){const{data:f=[],total:m,last_page:s}=o.data;a.list.push(...f),s===a.page&&(a.finished=!0)}}).catch(o=>{a.error=!0}).finally(()=>{a.loading=!1})}return j(null),(n,o)=>{const f=L,m=S,s=H("i18n-t"),d=R,c=z,k=w,b=M,$=I,C=x;return i(),g(y,null,[e(m,{title:n.$t("tc.mine"),fixed:"",placeholder:""},{left:r(()=>[e(f,{"class-prefix":"iconfont",name:"back",onClick:o[0]||(o[0]=t=>n.$router.back())})]),_:1},8,["title"]),e(C,{class:"list ma-5",loading:l(a).loading,"onUpdate:loading":o[1]||(o[1]=t=>l(a).loading=t),finished:l(a).finished,error:l(a).error,"finished-text":n.$t("mining.no_more"),onLoad:h},{default:r(()=>[(i(!0),g(y,null,N(l(a).list,t=>(i(),p($,{key:t.id,class:"mb-3 row",border:!1},{default:r(()=>[e(c,{title:t.project.project_name,border:!1,size:"normal"},{"right-icon":r(()=>[t.status===1?(i(),p(d,{key:0,type:"primary",plain:""},{default:r(()=>[e(s,{keypath:"mining.underway"})]),_:1})):u("",!0),t.status===2?(i(),p(d,{key:1,type:"warning"},{default:r(()=>[e(s,{keypath:"mining.applying_refund"})]),_:1})):u("",!0),t.status===3?(i(),p(d,{key:2},{default:r(()=>[e(s,{keypath:"mining.deposit"})]),_:1})):u("",!0),t.status===4?(i(),p(d,{key:3,type:"success"},{default:r(()=>[e(s,{keypath:"mining.refund_successful"})]),_:1})):u("",!0)]),_:2},1032,["title"]),e(c,{title:n.$t("tc.buyTime"),value:l(v)(t.interest_gen_next_time).format("YYYY-MM-DD HH:mm:ss"),border:!1},null,8,["title","value"]),e(c,{title:n.$t("tc.endTime"),value:l(v)(t.end_time).format("YYYY-MM-DD HH:mm:ss"),border:!1},null,8,["title","value"]),e(c,{title:n.$t("tc.currency"),value:"USDT",border:!1},null,8,["title"]),e(c,{title:n.$t("tc.dailyProfit"),value:t.day_profit,border:!1},null,8,["title","value"]),T("div",F,[e(b,null,{default:r(()=>[e(k,{size:"small",type:"primary",onClick:A=>{var _;return n.$router.push(`/earnings/${t.id}/${(_=t.project)==null?void 0:_.project_name}`)}},{default:r(()=>[e(s,{keypath:"tc.detail"})]),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},te=Y(G,[["__scopeId","data-v-dde0ff07"]]);export{te as default};
