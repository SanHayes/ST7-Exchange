import{X as g,s as f,a as n,x as s,z as r,F as p,C as c,I as v,D as b,E as h,a$ as k}from"./index-C7glgVMJ.js";import{L as $}from"./index-CurFfn_2.js";import{C}from"./index-D17H275x.js";import{C as L}from"./index-CCE9-dNp.js";import{N as y}from"./index-RB0KY4Iw.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-tab-status-BSvecJue.js";import"./index-BsuD2U6L.js";import"./use-route-CYJMck8x.js";import"./use-placeholder-DOMsP5qW.js";const F={__name:"Financial",setup(x){const e=g({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function m(){e.page+=1;const a={page:e.page,limit:e.limit};k(a).then(t=>{if(console.log(t),(t==null?void 0:t.type)==="ok"){const{list:i=[],total:d,count:l}=t.data;e.list.push(...i),l<=e.page&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}return(a,t)=>{const i=v,d=y,l=L,u=C,_=$;return c(),f(p,null,[n(d,{title:a.$t("records.financial_records"),fixed:"",placeholder:""},{left:s(()=>[n(i,{"class-prefix":"iconfont",name:"back",onClick:t[0]||(t[0]=o=>a.$router.back())})]),_:1},8,["title"]),n(_,{class:"ma-5",loading:r(e).loading,"onUpdate:loading":t[1]||(t[1]=o=>r(e).loading=o),finished:r(e).finished,error:r(e).error,"finished-text":a.$t("mining.no_more"),onLoad:m},{default:s(()=>[(c(!0),f(p,null,b(r(e).list,o=>(c(),h(u,{class:"row mb-3",border:!1,key:o.id},{default:s(()=>[n(l,{title:a.$t("records.quantity"),value:o.value,border:!1},null,8,["title","value"]),n(l,{title:a.$t("records.time"),value:o.created_time,border:!1},null,8,["title","value"]),n(l,{title:a.$t("records.record"),label:o.info,border:!1},null,8,["title","label"])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},V=B(F,[["__scopeId","data-v-2c81d6ca"]]);export{V as default};
