import{ad as se,ae as ye,af as Se,ag as We,r as P,Z as Ze,ah as Ue,ai as je,X as qe,aj as Te,d as q,m as z,a3 as xe,n as E,c as K,ak as Ce,a7 as Ie,k,al as Re,f as Be,g as Ke,W as _,am as ke,b as w,an as re,ao as j,$ as H,ap as Pe,aq as Ge,w as ae,ar as le,T as Xe,a5 as ue,t as N,u as Ye,as as Je,at as Qe,au as ne,av as X,B as pe,aw as et,ax as ve,e as $e,ay as tt,o as nt,j as at,ac as lt,a8 as it,az as ot,U as st,aA as ee,aB as te,p as ce,aC as he,i as rt,q as ct,aD as ut,aE as dt,a0 as ft,aF as vt,aG as ht,aH as me,aI as be,aJ as mt,aK as ie,aL as bt,aM as gt}from"./index-_TYWltFa.js";import{u as _e}from"./use-id-DPZACrbK.js";import{T as wt}from"./use-tab-status-DI7ce9ia.js";import{S as yt,a as St}from"./index-C0YTWq7s.js";function Tt(e,i,o){let s,r=0;const t=e.scrollLeft,l=o===0?1:Math.round(o*1e3/16);let c=t;function f(){ye(s)}function y(){c+=(i-t)/l,e.scrollLeft=c,++r<l&&(s=se(y))}return y(),f}function xt(e,i,o,s){let r,t=Se(e);const l=t<i,c=o===0?1:Math.round(o*1e3/16),f=(i-t)/c;function y(){ye(r)}function T(){t+=f,(l&&t>i||!l&&t<i)&&(t=i),We(e,t),l&&t<i||!l&&t>i?r=se(T):s&&(r=se(s))}return T(),y}function Ct(){const e=P([]),i=[];return Ze(()=>{e.value=[]}),[e,s=>(i[s]||(i[s]=r=>{e.value[s]=r}),i[s])]}function Ae(e,i){if(!Ue||!window.IntersectionObserver)return;const o=new IntersectionObserver(t=>{i(t[0].intersectionRatio>0)},{root:document.body}),s=()=>{e.value&&o.observe(e.value)},r=()=>{e.value&&o.unobserve(e.value)};je(r),qe(r),Te(s)}const[It,Rt]=K("sticky"),Bt={zIndex:E,position:xe("top"),container:Object,offsetTop:z(0),offsetBottom:z(0)};var kt=q({name:It,props:Bt,emits:["scroll","change"],setup(e,{emit:i,slots:o}){const s=P(),r=Ce(s),t=Ie({fixed:!1,width:0,height:0,transform:0}),l=P(!1),c=k(()=>Re(e.position==="top"?e.offsetTop:e.offsetBottom)),f=k(()=>{if(l.value)return;const{fixed:v,height:x,width:h}=t;if(v)return{width:`${h}px`,height:`${x}px`}}),y=k(()=>{if(!t.fixed||l.value)return;const v=Be(Ke(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${c.value}px`});return t.transform&&(v.transform=`translate3d(0, ${t.transform}px, 0)`),v}),T=v=>i("scroll",{scrollTop:v,isFixed:t.fixed}),A=()=>{if(!s.value||re(s))return;const{container:v,position:x}=e,h=j(s),I=Se(window);if(t.width=h.width,t.height=h.height,x==="top")if(v){const d=j(v),$=d.bottom-c.value-t.height;t.fixed=c.value>h.top&&d.bottom>0,t.transform=$<0?$:0}else t.fixed=c.value>h.top;else{const{clientHeight:d}=document.documentElement;if(v){const $=j(v),m=d-$.top-c.value-t.height;t.fixed=d-c.value<h.bottom&&d>$.top,t.transform=m<0?-m:0}else t.fixed=d-c.value<h.bottom}T(I)};return _(()=>t.fixed,v=>i("change",v)),ke("scroll",A,{target:r,passive:!0}),Ae(s,A),_([Pe,Ge],()=>{!s.value||re(s)||!t.fixed||(l.value=!0,H(()=>{const v=j(s);t.width=v.width,t.height=v.height,l.value=!1}))}),()=>{var v;return w("div",{ref:s,style:f.value},[w("div",{class:Rt({fixed:t.fixed&&!l.value}),style:y.value},[(v=o.default)==null?void 0:v.call(o)])])}}});const Pt=ae(kt),[$t,ge]=K("tabs");var _t=q({name:$t,props:{count:le(Number),inited:Boolean,animated:Boolean,duration:le(E),swipeable:Boolean,lazyRender:Boolean,currentIndex:le(Number)},emits:["change"],setup(e,{emit:i,slots:o}){const s=P(),r=c=>i("change",c),t=()=>{var c;const f=(c=o.default)==null?void 0:c.call(o);return e.animated||e.swipeable?w(yt,{ref:s,loop:!1,class:ge("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[f]}):f},l=c=>{const f=s.value;f&&f.state.active!==c&&f.swipeTo(c,{immediate:!e.inited})};return _(()=>e.currentIndex,l),Xe(()=>{l(e.currentIndex)}),ue({swipeRef:s}),()=>w("div",{class:ge("content",{animated:e.animated||e.swipeable})},[t()])}});const[Le,J]=K("tabs"),At={type:xe("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:z(0),duration:z(.3),animated:Boolean,ellipsis:N,swipeable:Boolean,scrollspy:Boolean,offsetTop:z(0),background:String,lazyRender:N,showHeader:N,lineWidth:E,lineHeight:E,beforeChange:Function,swipeThreshold:z(5),titleActiveColor:String,titleInactiveColor:String},ze=Symbol(Le);var Lt=q({name:Le,props:At,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:i,slots:o}){let s,r,t,l,c;const f=P(),y=P(),T=P(),A=P(),v=_e(),x=Ce(f),[h,I]=Ct(),{children:d,linkChildren:$}=Ye(ze),m=Ie({inited:!1,position:"",lineStyle:{},currentIndex:-1}),O=k(()=>d.length>+e.swipeThreshold||!e.ellipsis||e.shrink),W=k(()=>({borderColor:e.color,background:e.background})),F=(a,u)=>{var b;return(b=a.name)!=null?b:u},Z=k(()=>{const a=d[m.currentIndex];if(a)return F(a,m.currentIndex)}),V=k(()=>Re(e.offsetTop)),n=k(()=>e.sticky?V.value+s:0),g=a=>{const u=y.value,b=h.value;if(!O.value||!u||!b||!b[m.currentIndex])return;const B=b[m.currentIndex].$el,R=B.offsetLeft-(u.offsetWidth-B.offsetWidth)/2;l&&l(),l=Tt(u,R,a?0:+e.duration)},S=()=>{const a=m.inited;H(()=>{const u=h.value;if(!u||!u[m.currentIndex]||e.type!=="line"||re(f.value))return;const b=u[m.currentIndex].$el,{lineWidth:B,lineHeight:R}=e,L=b.offsetLeft+b.offsetWidth/2,D={width:ne(B),backgroundColor:e.color,transform:`translateX(${L}px) translateX(-50%)`};if(a&&(D.transitionDuration=`${e.duration}s`),X(R)){const Y=ne(R);D.height=Y,D.borderRadius=Y}m.lineStyle=D})},U=a=>{const u=a<m.currentIndex?-1:1;for(;a>=0&&a<d.length;){if(!d[a].disabled)return a;a+=u}},C=(a,u)=>{const b=U(a);if(!X(b))return;const B=d[b],R=F(B,b),L=m.currentIndex!==null;m.currentIndex!==b&&(m.currentIndex=b,u||g(),S()),R!==e.active&&(i("update:active",R),L&&i("change",R,B.title)),t&&!e.scrollspy&&et(Math.ceil(ve(f.value)-V.value))},M=(a,u)=>{const b=d.find((R,L)=>F(R,L)===a),B=b?d.indexOf(b):0;C(B,u)},G=(a=!1)=>{if(e.scrollspy){const u=d[m.currentIndex].$el;if(u&&x.value){const b=ve(u,x.value)-n.value;r=!0,c&&c(),c=xt(x.value,b,a?0:+e.duration,()=>{r=!1})}}},Ee=(a,u,b)=>{const{title:B,disabled:R}=d[u],L=F(d[u],u);R||($e(e.beforeChange,{args:[L],done:()=>{C(u),G()}}),tt(a)),i("clickTab",{name:L,title:B,event:b,disabled:R})},Ne=a=>{t=a.isFixed,i("scroll",a)},Ve=a=>{H(()=>{M(a),G(!0)})},Me=()=>{for(let a=0;a<d.length;a++){const{top:u}=j(d[a].$el);if(u>n.value)return a===0?0:a-1}return d.length-1},Oe=()=>{if(e.scrollspy&&!r){const a=Me();C(a)}},Fe=()=>{if(e.type==="line"&&d.length)return w("div",{class:J("line"),style:m.lineStyle},null)},de=()=>{var a,u,b;const{type:B,border:R,sticky:L}=e,D=[w("div",{ref:L?void 0:T,class:[J("wrap"),{[pe]:B==="line"&&R}]},[w("div",{ref:y,role:"tablist",class:J("nav",[B,{shrink:e.shrink,complete:O.value}]),style:W.value,"aria-orientation":"horizontal"},[(a=o["nav-left"])==null?void 0:a.call(o),d.map(Y=>Y.renderTitle(Ee)),Fe(),(u=o["nav-right"])==null?void 0:u.call(o)])]),(b=o["nav-bottom"])==null?void 0:b.call(o)];return L?w("div",{ref:T},[D]):D},fe=()=>{S(),H(()=>{var a,u;g(!0),(u=(a=A.value)==null?void 0:a.swipeRef.value)==null||u.resize()})};_(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],S),_(Pe,fe),_(()=>e.active,a=>{a!==Z.value&&M(a)}),_(()=>d.length,()=>{m.inited&&(M(e.active),S(),H(()=>{g(!0)}))});const He=()=>{M(e.active,!0),H(()=>{m.inited=!0,T.value&&(s=j(T.value).height),g(!0)})},De=(a,u)=>i("rendered",a,u);return ue({resize:fe,scrollTo:Ve}),Je(S),Qe(S),Te(He),Ae(f,S),ke("scroll",Oe,{target:x,passive:!0}),$({id:v,props:e,setLine:S,scrollable:O,onRendered:De,currentName:Z,setTitleRefs:I,scrollIntoView:g}),()=>w("div",{ref:f,class:J([e.type])},[e.showHeader?e.sticky?w(Pt,{container:f.value,offsetTop:V.value,onScroll:Ne},{default:()=>[de()]}):de():null,w(_t,{ref:A,count:d.length,inited:m.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:m.currentIndex,onChange:C},{default:()=>{var a;return[(a=o.default)==null?void 0:a.call(o)]}})])}});const[zt,we]=K("tab"),Et=q({name:zt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:E,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:N},setup(e,{slots:i}){const o=k(()=>{const r={},{type:t,color:l,disabled:c,isActive:f,activeColor:y,inactiveColor:T}=e;l&&t==="card"&&(r.borderColor=l,c||(f?r.backgroundColor=l:r.color=l));const v=f?y:T;return v&&(r.color=v),r}),s=()=>{const r=w("span",{class:we("text",{ellipsis:!e.scrollable})},[i.title?i.title():e.title]);return e.dot||X(e.badge)&&e.badge!==""?w(nt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>w("div",{id:e.id,role:"tab",class:[we([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:o.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[s()])}}),[Nt,oe]=K("tab"),Vt=Be({},ct,{dot:Boolean,name:E,badge:E,title:String,disabled:Boolean,titleClass:ut,titleStyle:[String,Object],showZeroBadge:N});var Mt=q({name:Nt,props:Vt,setup(e,{slots:i}){const o=_e(),s=P(!1),r=rt(),{parent:t,index:l}=at(ze);if(!t)return;const c=()=>{var h;return(h=e.name)!=null?h:l.value},f=()=>{s.value=!0,t.props.lazyRender&&H(()=>{t.onRendered(c(),e.title)})},y=k(()=>{const h=c()===t.currentName.value;return h&&!s.value&&f(),h}),T=P(""),A=P("");lt(()=>{const{titleClass:h,titleStyle:I}=e;T.value=h?it(h):"",A.value=I&&typeof I!="string"?ot(st(I)):I});const v=h=>w(Et,ce({key:o,id:`${t.id}-${l.value}`,ref:t.setTitleRefs(l.value),style:A.value,class:T.value,isActive:y.value,controls:o,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:I=>h(r.proxy,l.value,I)},he(t.props,["type","color","shrink"]),he(e,["dot","badge","title","disabled","showZeroBadge"])),{title:i.title}),x=P(!y.value);return _(y,h=>{h?x.value=!1:dt(()=>{x.value=!0})}),_(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),ft(wt,y),ue({id:o,renderTitle:v}),()=>{var h;const I=`${t.id}-${l.value}`,{animated:d,swipeable:$,scrollspy:m,lazyRender:O}=t.props;if(!i.default&&!d)return;const W=m||y.value;if(d||$)return w(St,{id:o,role:"tabpanel",class:oe("panel-wrapper",{inactive:x.value}),tabindex:y.value?0:-1,"aria-hidden":!y.value,"aria-labelledby":I,"data-allow-mismatch":"attribute"},{default:()=>{var V;return[w("div",{class:oe("panel")},[(V=i.default)==null?void 0:V.call(i)])]}});const Z=s.value||m||!O?(h=i.default)==null?void 0:h.call(i):null;return ee(w("div",{id:o,role:"tabpanel",class:oe("panel"),tabindex:W?0:-1,"aria-labelledby":I,"data-allow-mismatch":"attribute"},[Z]),[[te,W]])}}});const qt=ae(Mt),Kt=ae(Lt),[Ot,Q]=K("stepper"),Ft=200,p=(e,i)=>String(e)===String(i),Ht={min:z(1),max:z(1/0),name:z(""),step:z(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:N,showMinus:N,showInput:N,longPress:N,autoFixed:N,allowEmpty:Boolean,modelValue:E,inputWidth:E,buttonSize:E,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:z(1),decimalLength:E};var Dt=q({name:Ot,props:Ht,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:i}){const o=(n,g=!0)=>{const{min:S,max:U,allowEmpty:C,decimalLength:M}=e;return C&&n===""||(n=be(String(n),!e.integer),n=n===""?0:+n,n=Number.isNaN(n)?+S:n,n=g?Math.max(Math.min(+U,n),+S):n,X(M)&&(n=n.toFixed(+M))),n},s=()=>{var n;const g=(n=e.modelValue)!=null?n:e.defaultValue,S=o(g);return p(S,e.modelValue)||i("update:modelValue",S),S};let r;const t=P(),l=P(s()),c=k(()=>e.disabled||e.disableMinus||+l.value<=+e.min),f=k(()=>e.disabled||e.disablePlus||+l.value>=+e.max),y=k(()=>({width:ne(e.inputWidth),height:ne(e.buttonSize)})),T=k(()=>vt(e.buttonSize)),A=()=>{const n=o(l.value);p(n,l.value)||(l.value=n)},v=n=>{e.beforeChange?$e(e.beforeChange,{args:[n],done(){l.value=n}}):l.value=n},x=()=>{if(r==="plus"&&f.value||r==="minus"&&c.value){i("overlimit",r);return}const n=r==="minus"?-e.step:+e.step,g=o(gt(+l.value,n));v(g),i(r)},h=n=>{const g=n.target,{value:S}=g,{decimalLength:U}=e;let C=be(String(S),!e.integer);if(X(U)&&C.includes(".")){const G=C.split(".");C=`${G[0]}.${G[1].slice(0,+U)}`}e.beforeChange?g.value=String(l.value):p(S,C)||(g.value=C);const M=C===String(+C);v(M?+C:C)},I=n=>{var g;e.disableInput?(g=t.value)==null||g.blur():i("focus",n)},d=n=>{const g=n.target,S=o(g.value,e.autoFixed);g.value=String(S),l.value=S,H(()=>{i("blur",n),mt()})};let $,m;const O=()=>{m=setTimeout(()=>{x(),O()},Ft)},W=()=>{e.longPress&&($=!1,clearTimeout(m),m=setTimeout(()=>{$=!0,x(),O()},bt))},F=n=>{e.longPress&&(clearTimeout(m),$&&ie(n))},Z=n=>{e.disableInput&&ie(n)},V=n=>({onClick:g=>{ie(g),r=n,x()},onTouchstartPassive:()=>{r=n,W()},onTouchend:F,onTouchcancel:F});return _(()=>[e.max,e.min,e.integer,e.decimalLength],A),_(()=>e.modelValue,n=>{p(n,l.value)||(l.value=o(n))}),_(l,n=>{i("update:modelValue",n),i("change",n,{name:e.name})}),ht(()=>e.modelValue),()=>w("div",{role:"group",class:Q([e.theme])},[ee(w("button",ce({type:"button",style:T.value,class:[Q("minus",{disabled:c.value}),{[me]:!c.value}],"aria-disabled":c.value||void 0},V("minus")),null),[[te,e.showMinus]]),ee(w("input",{ref:t,type:e.integer?"tel":"text",role:"spinbutton",class:Q("input"),value:l.value,style:y.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":l.value,onBlur:d,onInput:h,onFocus:I,onMousedown:Z},null),[[te,e.showInput]]),ee(w("button",ce({type:"button",style:T.value,class:[Q("plus",{disabled:f.value}),{[me]:!f.value}],"aria-disabled":f.value||void 0},V("plus")),null),[[te,e.showPlus]])])}});const Gt=ae(Dt);export{Gt as S,Kt as T,qt as a};
