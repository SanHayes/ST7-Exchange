import{X as y,s as c,a as o,x as p,z as r,F as f,A as k,v as b,C as d,I as L,D as B,L as n,H as _}from"./index-BX_vxe7X.js";import{L as C}from"./index-DDCE-hvA.js";import{N as $}from"./index-vc-ZR3IW.js";import{p as j}from"./news-Cq5G3GrF.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as w}from"./index-CtwnQW2r.js";import"./use-tab-status-C4MZWNyN.js";import"./index-COVh8vVE.js";import"./use-placeholder-1CbfBi5E.js";import"./use-route-B6WoNe5m.js";const z={class:"flex space-between align-center"},N={class:"p-name bold flex align-center"},D={class:"flex space-between ma-3"},F={class:"text-center"},R={class:"value"},V={class:"font-sm"},A={class:"text-center"},E={class:"value"},H={class:"font-sm"},S={__name:"Index",setup(U){const u=k(),e=y({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function g(){e.page+=1;const a={page:e.page,limit:e.limit};j(a).then(t=>{if((t==null?void 0:t.type)==="ok"){const{data:l=[],total:m,last_page:i}=t.data;e.list.push(...l),i===e.page&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}function h(a){u.push(`/apply/${a.id}`)}return(a,t)=>{const l=L,m=$,i=b("i18n-t"),v=w,x=C;return d(),c(f,null,[o(m,{title:a.$t("mining.money_management"),fixed:"",placeholder:""},{right:p(()=>[o(l,{name:"orders-o",size:"24",onClick:t[0]||(t[0]=s=>a.$router.push("/applyRecord"))})]),_:1},8,["title"]),o(x,{class:"list ma-5",loading:r(e).loading,"onUpdate:loading":t[1]||(t[1]=s=>r(e).loading=s),finished:r(e).finished,error:r(e).error,"finished-text":a.$t("mining.no_more"),onLoad:g},{default:p(()=>[(d(!0),c(f,null,B(r(e).list,s=>(d(),c("div",{class:"row my-3 pa-5",key:s.id},[n("div",z,[n("div",N,[o(l,{name:s.project_img,size:"30"},null,8,["name"]),n("span",null,_(s.project_name),1)]),o(v,{type:"primary",size:"small",onClick:X=>h(s)},{default:p(()=>[o(i,{keypath:"mining.subscribe"})]),_:2},1032,["onClick"])]),n("div",D,[n("div",F,[n("div",R,_(s.project_lixi)+"%",1),n("div",V,[o(i,{keypath:"mining.expected_nissan"})])]),n("div",A,[n("div",E,_(s.project_amount_min),1),n("div",H,[o(i,{keypath:"mining.mining_machine_rental"})])])])]))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},Y=I(S,[["__scopeId","data-v-a4dc236f"]]);export{Y as default};
