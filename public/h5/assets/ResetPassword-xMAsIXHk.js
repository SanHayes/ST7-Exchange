import{_ as I,N as P,v as R,r as l,am as q,y as U,b as s,A as t,D as o,F as D,E as S,z as E,G,Q as M,I as T,M as c,C as g,aw as A,ai as Q}from"./index-Dz2FhLUK.js";import{C as j}from"./index-FBk_qlky.js";import"./index-IEZPsQoy.js";import{F as H}from"./index-x8bv8pe9.js";import{N as J}from"./index-BPClZm1B.js";import{u as K}from"./useFieldManager-CSFYbj9G.js";import{r as L,p as O}from"./utils-Rtcwlnw2.js";import{F as W}from"./index-BPev7FSy.js";import"./use-id-DfC-P2Rh.js";const X={class:"label highlight-txt mb-2 mt-4"},Y={class:"label highlight-txt mt-6 mb-2"},Z={class:"label highlight-txt mt-6 mb-2"},ee={class:"label highlight-txt mt-6 mb-2"},se={__name:"ResetPassword",setup(oe){const{getType:f,getIcon:w,toggleVisible:v}=K({password:{type:"password"},re_password:{type:"password"},trading_password:{type:"password"}}),V=P();R();const y=S(),p=l(""),n=l(""),u=l(""),m=l("");l(""),l(!1);const C=l(!1);q({time:60*1e3,onFinish:()=>{C.value=!1}});const $=r=>r===n.value,b=l(!1);function F(r){b.value=!0,A({account_number:p.value,password:n.value,repassword:u.value,pay_password:m.value}).then(e=>{console.log(e),Q({type:"primary",message:e.message}),e.type==="ok"&&setTimeout(()=>{y.push("/login")},500)}).finally(()=>{b.value=!1})}function N(){y.go(-1)}return(r,e)=>{var k;const d=T,h=M,x=J,i=E("i18n-t"),_=H,z=j,B=W;return G(),U(D,null,[s(x,{title:(k=o(V).siteConfig)==null?void 0:k.site_name},{left:t(()=>[s(d,{"class-prefix":"iconfont",name:"back",onClick:N})]),right:t(()=>[s(h,{size:"small",onClick:e[0]||(e[0]=a=>r.$router.push("/lang"))},{default:t(()=>[s(d,{"class-prefix":"iconfont",name:"language_full"})]),_:1})]),_:1},8,["title"]),s(B,{class:"form font-md","show-error":!0,"show-error-message":!1,onSubmit:F},{default:t(()=>[s(z,{border:!1},{default:t(()=>[c("div",X,[s(i,{keypath:"register.account"})]),s(_,{modelValue:o(p),"onUpdate:modelValue":e[1]||(e[1]=a=>g(p)?p.value=a:null),placeholder:r.$t("register.enter_account"),border:!1,rules:[{required:!0}]},null,8,["modelValue","placeholder"]),c("div",Y,[s(i,{keypath:"register.pwd"})]),s(_,{modelValue:o(n),"onUpdate:modelValue":e[3]||(e[3]=a=>g(n)?n.value=a:null),type:o(f)("password"),placeholder:r.$t("reset.enter_new_password"),border:!1,rules:[{required:!0},{pattern:o(L)}]},{button:t(()=>[s(d,{name:o(w)("password"),size:"20",onClick:e[2]||(e[2]=a=>o(v)("password"))},null,8,["name"])]),_:1},8,["modelValue","type","placeholder","rules"]),c("div",Z,[s(i,{keypath:"register.enter_password_again"})]),s(_,{modelValue:o(u),"onUpdate:modelValue":e[5]||(e[5]=a=>g(u)?u.value=a:null),type:o(f)("re_password"),placeholder:r.$t("register.enter_password_again"),border:!1,rules:[{required:!0},{validator:$}]},{button:t(()=>[s(d,{name:o(w)("re_password"),size:"20",onClick:e[4]||(e[4]=a=>o(v)("re_password"))},null,8,["name"])]),_:1},8,["modelValue","type","placeholder","rules"]),c("div",ee,[s(i,{keypath:"register.trading_password"})]),s(_,{class:"mb-6",modelValue:o(m),"onUpdate:modelValue":e[7]||(e[7]=a=>g(m)?m.value=a:null),type:o(f)("trading_password"),placeholder:r.$t("tc.correctPayPass"),border:!1,rules:[{required:!0},{pattern:o(O)}]},{button:t(()=>[s(d,{name:o(w)("trading_password"),size:"20",onClick:e[6]||(e[6]=a=>o(v)("trading_password"))},null,8,["name"])]),_:1},8,["modelValue","type","placeholder","rules"]),s(h,{block:"",type:"primary","native-type":"submit",loading:o(b)},{default:t(()=>[s(i,{keypath:"reset.reset_password"})]),_:1},8,["loading"])]),_:1})]),_:1})],64)}}},me=I(se,[["__scopeId","data-v-da55c914"]]);export{me as default};
