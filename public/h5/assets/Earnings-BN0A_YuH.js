import{_ as v,a7 as b,y as d,b as i,A as l,D as s,F as f,s as h,G as p,I as k,H as C,J as $}from"./index-DbTlp3SP.js";import{L}from"./index-DF8vvzcQ.js";import{C as y}from"./index-B62dnESp.js";import{C as B}from"./index-BHvnwRqI.js";import{N as x}from"./index-HiN-1LuV.js";import{c as E}from"./news-5uPHV091.js";import"./use-tab-status-DNCQ0_uE.js";const I={__name:"Earnings",setup(N){const m=h(),e=b({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function _(){e.page+=1;const a={page:e.page,limit:e.limit,id:m.params.id};E(a).then(t=>{if((t==null?void 0:t.type)==="ok"){const{data:r=[],total:c,last_page:o}=t.data;e.list.push(...r),(!o||o===e.page)&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}return(a,t)=>{const r=k,c=x,o=B,u=y,g=L;return p(),d(f,null,[i(c,{title:a.$t("mining.subscription_list"),fixed:"",placeholder:""},{left:l(()=>[i(r,{"class-prefix":"iconfont",name:"back",onClick:t[0]||(t[0]=n=>a.$router.back())})]),_:1},8,["title"]),i(g,{class:"list ma-5",loading:s(e).loading,"onUpdate:loading":t[1]||(t[1]=n=>s(e).loading=n),finished:s(e).finished,error:s(e).error,"finished-text":a.$t("mining.no_more"),onLoad:_},{default:l(()=>[(p(!0),d(f,null,C(s(e).list,n=>(p(),$(u,{key:n.id,class:"mb-3 row",border:!1},{default:l(()=>[i(o,{title:a.$t("mining.interest"),value:n.is_lock,border:!1},null,8,["title","value"]),i(o,{title:a.$t("mining.Application_time"),value:n.created_time,border:!1},null,8,["title","value"])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},R=v(I,[["__scopeId","data-v-ed9ece83"]]);export{R as default};
