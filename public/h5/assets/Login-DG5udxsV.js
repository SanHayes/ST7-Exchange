import{_ as L,M as N,v as S,r as d,y as z,b as e,P as s,A as l,D as a,F as A,E as q,z as E,G,Q as P,I as R,C as k,aS as U,aT as D}from"./index--vZnXzCg.js";import{C as M}from"./index-C_kpMHjb.js";import"./index-zpiD-kUy.js";import{F as Q}from"./index-osWurxS3.js";import{I as T}from"./index-Dse58sV_.js";import{N as j}from"./index-Vg5CfP6E.js";import{F as H}from"./index-Dj7mUDAX.js";import"./use-id-wtgFie-X.js";const J="/h5/assets/logo-reuCf3f9.png",K={class:"logo"},O={class:"label highlight-txt mb-2"},W={class:"label highlight-txt mt-6 mb-2"},X={class:"links flex space-between mt-4 mb-6"},Y={class:"primary highlight-txt"},Z={class:"text-center"},ee={__name:"Login",setup(oe){const g=N();S();const b=q(),r=d("password");function C(){r.value==="password"?r.value="text":r.value="password"}const i=d(""),u=d(""),p=d(!1);function f(){return D({user_string:i.value,password:u.value}).then(o=>{console.log(o),p.value=!1,o.type=="ok"&&(localStorage.setItem("token",o.data),b.push("/"))}).finally(()=>{p.value=!1})}function x(o){p.value=!0,f()}const m=d(!1);async function V(){m.value=!0;const o=await U();if(o.type=="ok"){const t=o.data||{};i.value=t.username,u.value=t.password,await f()}m.value=!1}return(o,t)=>{var y,w;const h=R,_=P,I=j,F=T,n=E("i18n-t"),v=Q,$=M,B=H;return G(),z(A,null,[e(I,{title:(y=a(g).siteConfig)==null?void 0:y.site_name},{right:l(()=>[e(_,{size:"small"},{default:l(()=>[e(h,{"class-prefix":"iconfont",name:"language_full"})]),_:1})]),_:1},8,["title"]),s("div",K,[e(F,{src:((w=a(g).siteConfig)==null?void 0:w.site_logo)||a(J),width:"125px"},null,8,["src"])]),e(B,{class:"form font-md","show-error":!0,"show-error-message":!1,onSubmit:x},{default:l(()=>[e($,{border:!1},{default:l(()=>[s("div",O,[e(n,{keypath:"login.emallogo"})]),e(v,{modelValue:a(i),"onUpdate:modelValue":t[0]||(t[0]=c=>k(i)?i.value=c:null),placeholder:o.$t("login.enter_email"),border:!1,rules:[{required:!0}]},null,8,["modelValue","placeholder"]),s("div",W,[e(n,{keypath:"login.pwd"})]),e(v,{modelValue:a(u),"onUpdate:modelValue":t[1]||(t[1]=c=>k(u)?u.value=c:null),type:a(r),placeholder:o.$t("login.enter_password"),border:!1,rules:[{required:!0}]},{button:l(()=>[e(h,{name:a(r)==="password"?"closed-eye":"eye",size:"20",onClick:C},null,8,["name"])]),_:1},8,["modelValue","type","placeholder"]),s("div",X,[s("div",{onClick:t[2]||(t[2]=c=>o.$router.push("/register"))},[e(n,{keypath:"login.have_account"}),s("span",Y,[e(n,{keypath:"login.register"})])]),s("div",{class:"highlight-txt",onClick:t[3]||(t[3]=c=>o.$router.push("/reset_password"))},[e(n,{keypath:"login.forgot_password"})])]),e(_,{block:"",type:"primary","native-type":"submit",loading:a(p)},{default:l(()=>[e(n,{keypath:"login.sign_in"})]),_:1},8,["loading"]),s("div",Z,[e(_,{class:"create highlight-txt mt-4 text-center",loading:a(m),onClick:V},{default:l(()=>[e(n,{keypath:"login.creat_account"})]),_:1},8,["loading"])])]),_:1})]),_:1})],64)}}},ce=L(ee,[["__scopeId","data-v-93fafa08"]]);export{ce as default};
