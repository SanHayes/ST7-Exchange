import{_ as g,v as h,ae as V,N as C,aW as x,aU as N,y as B,b as s,P as r,A as i,z as I,D as t,ac as $,Q as F,F as U,E as j,G as P,I as A,ai as m,aX as W}from"./index-Duiu1Gv4.js";/* empty css              *//* empty css              */import{P as E}from"./index-BghFPah3.js";import"./index-Dt4AWYn-.js";import{F as O}from"./index-BboBTqNW.js";import{N as z}from"./index-BDCQpW2K.js";import"./use-id-BD64h31R.js";const D={class:"main px-3 py-5"},G={class:"label font-md my-3"},M={class:"row flex align-center"},Q={class:"label font-md my-3"},R={class:"row flex align-center"},T={class:"my-5"},X={__name:"AddWay",setup(q){const u=j(),{t:p}=h(),e=V({currency:"",pickerValue:[],pickerObj:{},columns:[],show:!1,address:"",loading:!1,disable:!1,list:[]}),_=({selectedValues:a,selectedOptions:o})=>{var n;console.log(a,o),e.currency=(n=o[0])==null?void 0:n.agreement,e.pickerValue=a,e.pickerObj=o[0],e.show=!1},f={text:"agreement",value:"id"};C(()=>{x().then(a=>{if(a.type==="ok"){const o=a.data||[];e.columns=o;const n=o[0];n&&(e.currency=n.agreement,e.pickerValue=[n.id],e.pickerObj=n)}}),N().then(a=>{a.type==="ok"&&(e.list=a.data)})});function y(){if(!e.address){m({type:"warning",message:p("wallet.enter_the_wallet_address")});return}const a={money:e.currency,account:e.address,digital_currency_id:e.pickerObj.id};e.loading=!0,W(a).then(o=>{o.type==="ok"&&(e.disable=!0,m({type:"success",message:o.message}),setTimeout(()=>{u.back()},2e3))}).finally(()=>{e.loading=!1})}return(a,o)=>{const n=A,k=z,d=I("i18n-t"),c=O,v=E,b=$,w=F;return P(),B(U,null,[s(k,{title:a.$t("wallet.bind_digital_currency_address"),fixed:"",placeholder:""},{left:i(()=>[s(n,{"class-prefix":"iconfont",name:"back",onClick:o[0]||(o[0]=l=>a.$router.back())})]),_:1},8,["title"]),r("div",D,[r("div",G,[s(d,{keypath:"wallet.currency"})]),r("div",M,[s(c,{modelValue:t(e).currency,"onUpdate:modelValue":o[1]||(o[1]=l=>t(e).currency=l),"is-link":"",readonly:"",name:"picker",placeholder:"",border:!1,onClick:o[2]||(o[2]=l=>t(e).show=!0)},null,8,["modelValue"]),s(b,{show:t(e).show,"onUpdate:show":o[4]||(o[4]=l=>t(e).show=l),"destroy-on-close":"",position:"bottom","safe-area-inset-bottom":!0},{default:i(()=>[s(v,{columns:t(e).columns,"columns-field-names":f,"model-value":t(e).pickerValue,onConfirm:_,onCancel:o[3]||(o[3]=l=>t(e).show=!1)},null,8,["columns","model-value"])]),_:1},8,["show"])]),r("div",Q,[s(d,{keypath:"wallet.wallet_address"})]),r("div",R,[s(c,{placeholder:a.$t("wallet.wallet_address"),border:!1,modelValue:t(e).address,"onUpdate:modelValue":o[5]||(o[5]=l=>t(e).address=l)},null,8,["placeholder","modelValue"])]),r("div",T,[s(w,{type:"primary",block:"",loading:t(e).loading,disabled:t(e).disable||t(e).list.length,onClick:y},{default:i(()=>[s(d,{keypath:"wallet.add"})]),_:1},8,["loading","disabled"])])])],64)}}},oe=g(X,[["__scopeId","data-v-07aacd16"]]);export{oe as default};
