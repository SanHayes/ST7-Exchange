import{_,a7 as g,y as c,b as r,A as s,D as o,F as d,G as l,I as h,H as k,J as v,K as b,L,P as N,bs as x}from"./index-DbTlp3SP.js";import{L as y}from"./index-DF8vvzcQ.js";import{C}from"./index-BHvnwRqI.js";import{N as $}from"./index-HiN-1LuV.js";import{h as B}from"./moment-C5S46NFB.js";import"./use-tab-status-DNCQ0_uE.js";const D=["innerHTML"],M={__name:"Notice",setup(H){const e=g({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function f(){e.page+=1,e.page,e.limit,x().then(t=>{if((t==null?void 0:t.type)==="ok"){const{message:a=[],last_page:i}=t;e.list.push(...a),(i===e.page||!i)&&(e.finished=!0)}else e.error=!0}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}return(t,a)=>{const i=h,p=$,m=C,u=y;return l(),c(d,null,[r(p,{title:t.$t("mine.announcement"),fixed:"",placeholder:""},{left:s(()=>[r(i,{"class-prefix":"iconfont",name:"back",onClick:a[0]||(a[0]=n=>t.$router.back())})]),_:1},8,["title"]),r(u,{class:"notice-list",loading:o(e).loading,"onUpdate:loading":a[1]||(a[1]=n=>o(e).loading=n),finished:o(e).finished,error:o(e).error,"finished-text":t.$t("mining.no_more"),onLoad:f},{default:s(()=>[(l(!0),c(d,null,k(o(e).list,n=>(l(),v(m,{"is-link":"",key:n.id,title:n.title,border:!1,onClick:I=>t.$router.push("/mine/notice-detail/"+n.id)},{icon:s(()=>[r(i,{class:"mr-2","class-prefix":"iconfont",color:"#85bd00",name:n.status===0?"weidu1":"yidu",size:"16"},null,8,["name"])]),label:s(()=>[N("div",{innerHTML:n.abstract},null,8,D)]),value:s(()=>[b(L(o(B)(n.updated_at).format("MM-DD")),1)]),_:2},1032,["title","onClick"]))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},E=_(M,[["__scopeId","data-v-4d5b08a0"]]);export{E as default};
