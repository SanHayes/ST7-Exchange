import{_ as g,a7 as v,y as f,b as n,A as s,D as r,F as p,G as c,I as b,H as h,J as k,bc as $}from"./index-eu3hJclY.js";import{L as C}from"./index-C7CJatHe.js";import{C as y}from"./index-UnhqGgN_.js";import{C as L}from"./index-DlNwynip.js";import{N as B}from"./index-doiysQ8a.js";import"./use-tab-status-Bab0mx3P.js";const F={__name:"Financial",setup(I){const e=v({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function m(){e.page+=1;const t={page:e.page,limit:e.limit};$(t).then(a=>{if(console.log(a),(a==null?void 0:a.type)==="ok"){const{list:i=[],total:d,count:l}=a.data;e.list.push(...i),l<=e.page&&(e.finished=!0)}}).catch(a=>{e.error=!0}).finally(()=>{e.loading=!1})}return(t,a)=>{const i=b,d=B,l=L,u=y,_=C;return c(),f(p,null,[n(d,{title:t.$t("records.financial_records"),fixed:"",placeholder:""},{left:s(()=>[n(i,{"class-prefix":"iconfont",name:"back",onClick:a[0]||(a[0]=o=>t.$router.back())})]),_:1},8,["title"]),n(_,{class:"ma-5",loading:r(e).loading,"onUpdate:loading":a[1]||(a[1]=o=>r(e).loading=o),finished:r(e).finished,error:r(e).error,"finished-text":t.$t("mining.no_more"),onLoad:m},{default:s(()=>[(c(!0),f(p,null,h(r(e).list,o=>(c(),k(u,{class:"row mb-3",border:!1,key:o.id},{default:s(()=>[n(l,{title:t.$t("records.quantity"),value:o.value,border:!1},null,8,["title","value"]),n(l,{title:t.$t("records.time"),value:o.created_time,border:!1},null,8,["title","value"]),n(l,{title:t.$t("records.record"),label:o.info,border:!1},null,8,["title","label"])]),_:2},1024))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},D=g(F,[["__scopeId","data-v-2c81d6ca"]]);export{D as default};
