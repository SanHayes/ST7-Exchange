import{r as f,i as V,K as b,s as c,a,L as o,x as g,y as B,z as d,v as N,M as S,F as k,D as z,C as n,I as D,H as h,E as y,Y as E}from"./index-Chl5sOYf.js";import{T as F}from"./index-B-Aq_a8q.js";import"./index-BhLj47ak.js";import"./index-BnSUr8up.js";import{S as I}from"./index-CvCxN2HM.js";import{N as q}from"./index-YJFsT3sC.js";import{q as M}from"./index-BsQvRV1c.js";import{a as x}from"./utils-Aw9n5Fzr.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{L as T}from"./index-BoqFuH1H.js";import"./use-route-C0CRl_Gd.js";import"./use-id-BXkr5rCl.js";import"./use-placeholder-Bru7x8Ob.js";const U={class:"main mt-3"},j={class:"px-3"},H={class:"label font-md my-2"},K={class:"list"},W={key:0,class:"text-center"},Y=["onClick"],A={class:"icon"},G={class:"name font-md"},J={key:0,class:"price text-right"},O={class:"now font-md"},P={key:1,class:"price text-right"},Q={class:"trend text-right"},X={__name:"Search",setup(Z){const _=f(!1),p=f([]),i=f(""),C=V(()=>{if(!i.value)return p.value;const t=i.value.toLowerCase();return p.value.filter(s=>s.currency_name.toLowerCase().includes(t))});b(()=>{w()});function w(){return _.value=!0,M().then(t=>{if(t.type==="ok"){const s=t.data||[],r=[];s.map(u=>{const m=u.quotation.map(l=>(l.visible=!1,l))||[];r.push(...m)}),p.value=r}}).finally(()=>{_.value=!1})}return(t,s)=>{const r=D,u=q,m=I,l=N("i18n-t"),L=T,$=F;return n(),c(k,null,[a(u,{title:t.$t("search.search"),fixed:"",placeholder:""},{left:g(()=>[a(r,{"class-prefix":"iconfont",name:"back",onClick:s[0]||(s[0]=e=>t.$router.back())})]),_:1},8,["title"]),o("div",U,[a(m,{placeholder:t.$t("search.enter_product_code"),modelValue:d(i),"onUpdate:modelValue":s[1]||(s[1]=e=>B(i)?i.value=e:null),shape:"round"},null,8,["placeholder","modelValue"]),o("div",j,[o("div",H,[a(l,{keypath:"search.search_result"})]),o("div",K,[d(_)?(n(),c("div",W,[a(L,{size:"24"})])):S("",!0),(n(!0),c(k,null,z(d(C),e=>{var v;return n(),c("div",{class:"list-item",key:e.id,onClick:ee=>t.$router.push("/trade?id="+e.currency_id)},[o("div",A,[a(r,{name:e.logo_url,size:"36"},null,8,["name"])]),o("div",G,h(e.show_name),1),(v=e.currency)!=null&&v.opening?(n(),c("div",J,[o("div",O,h(e.now_price),1)])):(n(),c("div",P,[a($,null,{default:g(()=>[a(l,{keypath:"market.closed"})]),_:1})])),o("div",{class:"chart",ref_for:!0,ref:"chartRefs"},[o("div",Q,[e.change.startsWith("+")?(n(),y(r,{key:0,"class-prefix":"iconfont",name:"rise",color:"#85bd00"})):(n(),y(r,{key:1,"class-prefix":"iconfont",name:"xiajiang",color:"#EF263D"})),o("span",{class:E(["percentage font-md ml-2",{up:d(x)(e.change)},{down:!d(x)(e.change)}])},h(e.change)+"%",3)])],512)],8,Y)}),128))])])])],64)}}},me=R(X,[["__scopeId","data-v-225c1a75"]]);export{me as default};
