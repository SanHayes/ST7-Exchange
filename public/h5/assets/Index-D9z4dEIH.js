import{_ as T,v as D,r as m,bo as E,y as $,b as e,O as o,A as l,J as h,z as A,D as d,C as G,L as v,Q as H,F as N,E as J,G as u,I as K,R as O,H as Q,K as U,a8 as z,bp as j}from"./index-B8jVCAQk.js";import{S as q}from"./index-gs7vjvLl.js";import{T as M}from"./index-IZZbNKb-.js";import"./index-zs14TXL7.js";import{F as P}from"./index-BdDwY46G.js";import{N as W}from"./index-BZ5Wo1NO.js";import"./use-id-YjOw53DZ.js";const X={class:"main ma-3"},Y={class:"verified text-center pa-5 mb-3"},Z={class:"font-md"},ee={class:"label font-md mb-3"},oe={class:"label font-md my-2"},ae={class:"row my-3 pa-3 font-md"},ne={class:"flex space-between"},te={class:"label"},se={class:"value"},le={class:"flex space-between"},ie={class:"label"},re={class:"value"},de={class:"flex space-between"},ce={class:"label"},_e={class:"value"},me={class:"rule my-3 font-sm"},ue={__name:"Index",setup(pe){const B=J(),{t:k}=D(),b=m(!0),g=m([]),c=m(""),i=m(null),f=m(!1);E().then(t=>{var a;if(t.type==="ok"){const s=((a=t.data)==null?void 0:a.data)||[];g.value=s.sort((y,n)=>y.lock_dividend_days-n.lock_dividend_days),s!=null&&s.length&&(i.value=s[0])}}).finally(()=>{b.value=!1});function I(t){i.value=t}function V(){var a;if(!c.value){z({type:"warning",message:k("mining.max_number")});return}if(c.value<Number(i.value.borrow_amount_min)){z({type:"warning",message:k("mining.lazy_weight")});return}f.value=!0;const t={id:(a=i.value)==null?void 0:a.id,amount:c.value};j(t).then(s=>{console.log("res",s),s.type==="ok"&&B.push("/loaned")}).finally(()=>{f.value=!1})}return(t,a)=>{var w,x,C;const s=K,y=W,n=A("i18n-t"),L=O,p=H,F=P,S=M,R=q;return u(),$(N,null,[e(y,{title:t.$t("loan.loan"),fixed:"",placeholder:""},{left:l(()=>[e(s,{"class-prefix":"iconfont",name:"back",onClick:a[0]||(a[0]=r=>t.$router.back())})]),right:l(()=>[e(s,{name:"orders-o",size:"24",onClick:a[1]||(a[1]=r=>t.$router.push("/loan/record"))})]),_:1},8,["title"]),o("div",X,[o("div",Y,[o("p",Z,[e(n,{keypath:"loan.start_loan"})]),d(b)?(u(),h(p,{key:0,type:"primary"},{icon:l(()=>[e(L,{size:"16",color:"white"})]),default:l(()=>[e(n,{keypath:"loan.verify"})]),_:1})):(u(),h(p,{key:1,icon:"checked",type:"primary"},{default:l(()=>[e(n,{keypath:"loan.verified"})]),_:1}))]),o("div",ee,[e(n,{keypath:"loan.amount"})]),e(F,{class:"row",modelValue:d(c),"onUpdate:modelValue":a[3]||(a[3]=r=>G(c)?c.value=r:null),placeholder:t.$t("loan.input_amount")},{"right-icon":l(()=>[e(p,{type:"primary",size:"small",onClick:a[2]||(a[2]=r=>{var _;return c.value=(_=d(i))==null?void 0:_.borrow_amount_max})},{default:l(()=>[e(n,{keypath:"loan.max"})]),_:1})]),_:1},8,["modelValue","placeholder"]),o("div",oe,[e(n,{keypath:"loan.loan_time"})]),e(R,null,{default:l(()=>[(u(!0),$(N,null,Q(d(g),r=>{var _;return u(),h(S,{type:"primary",size:"large",plain:r.lock_dividend_days!==((_=d(i))==null?void 0:_.lock_dividend_days),key:r.id,onClick:ve=>I(r)},{default:l(()=>[U(v(r.lock_dividend_days)+" ",1),e(n,{keypath:"loan.day"})]),_:2},1032,["plain","onClick"])}),128))]),_:1}),o("div",ae,[o("div",ne,[o("div",te,[e(n,{keypath:"loan.day_rate"})]),o("div",se,v((w=d(i))==null?void 0:w.borrow_lixi)+" % ",1)]),o("div",le,[o("div",ie,[e(n,{keypath:"mining.maximum_subscription"})]),o("div",re,v((x=d(i))==null?void 0:x.borrow_amount_max),1)]),o("div",de,[o("div",ce,[e(n,{keypath:"mining.minimum_subscription"})]),o("div",_e,v((C=d(i))==null?void 0:C.borrow_amount_min),1)])]),e(p,{type:"primary",block:"",loading:d(f),onClick:V},{default:l(()=>[e(n,{keypath:"loan.loan_now"})]),_:1},8,["loading"]),o("div",me,[e(n,{keypath:"loan.rule"})])])],64)}}},xe=T(ue,[["__scopeId","data-v-f9e8c996"]]);export{xe as default};
