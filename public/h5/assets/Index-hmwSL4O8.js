import{_ as T,v as D,r as m,aN as E,y as N,b as e,O as o,A as i,J as h,z as O,D as d,C as A,L as v,P as G,F as z,E as H,G as u,I as J,R as K,H as P,K as U,a8 as B,aO as j}from"./index-DmIop49X.js";import{S as q}from"./index-DviVFXcu.js";import{T as M}from"./index-D0Zg6G1H.js";import"./index-B_3MZZmh.js";import{F as Q}from"./index-CaMzILHU.js";import{N as W}from"./index-CbbDvDIj.js";import"./use-id-lXEIs3KW.js";const X={class:"main ma-3"},Y={class:"verified text-center pa-5 mb-3"},Z={class:"font-md"},ee={class:"label font-md mb-3"},oe={class:"label font-md my-2"},ae={class:"row my-3 pa-3 font-md"},ne={class:"flex space-between"},te={class:"label"},se={class:"value"},le={class:"flex space-between"},ie={class:"label"},de={class:"value"},re={class:"flex space-between"},_e={class:"label"},ce={class:"value"},me={class:"rule my-3 font-sm"},ue={__name:"Index",setup(pe){const I=H(),{t:k}=D(),b=m(!0),g=m([]),_=m(""),l=m(null),y=m(!1);E().then(t=>{var n;if(t.type==="ok"){const s=((n=t.data)==null?void 0:n.data)||[];g.value=s.sort((f,a)=>f.lock_dividend_days-a.lock_dividend_days),s!=null&&s.length&&(l.value=s[0])}}).finally(()=>{b.value=!1});function V(t){l.value=t}function $(){var n;if(!_.value){B({type:"warning",message:k("mining.max_number")});return}if(_.value<Number(l.value.borrow_amount_min)){B({type:"warning",message:k("mining.lazy_weight")});return}y.value=!0;const t={id:(n=l.value)==null?void 0:n.id,amount:_.value};j(t).then(s=>{console.log("res",s),s.type==="ok"&&I.push("/loaned")}).finally(()=>{y.value=!1})}return(t,n)=>{var w,x,C;const s=J,f=W,a=O("i18n-t"),L=K,p=G,F=Q,S=M,R=q;return u(),N(z,null,[e(f,{title:t.$t("loan.loan"),fixed:"",placeholder:""},{right:i(()=>[e(s,{name:"orders-o",size:"24",onClick:n[0]||(n[0]=r=>t.$router.push("/loan/record"))})]),_:1},8,["title"]),o("div",X,[o("div",Y,[o("p",Z,[e(a,{keypath:"loan.start_loan"})]),d(b)?(u(),h(p,{key:0,type:"primary"},{icon:i(()=>[e(L,{size:"16",color:"white"})]),default:i(()=>[e(a,{keypath:"loan.verify"})]),_:1})):(u(),h(p,{key:1,icon:"checked",type:"primary"},{default:i(()=>[e(a,{keypath:"loan.verified"})]),_:1}))]),o("div",ee,[e(a,{keypath:"loan.amount"})]),e(F,{class:"row",modelValue:d(_),"onUpdate:modelValue":n[2]||(n[2]=r=>A(_)?_.value=r:null),placeholder:t.$t("loan.input_amount")},{"right-icon":i(()=>[e(p,{type:"primary",size:"small",onClick:n[1]||(n[1]=r=>{var c;return _.value=(c=d(l))==null?void 0:c.borrow_amount_max})},{default:i(()=>[e(a,{keypath:"loan.max"})]),_:1})]),_:1},8,["modelValue","placeholder"]),o("div",oe,[e(a,{keypath:"loan.loan_time"})]),e(R,null,{default:i(()=>[(u(!0),N(z,null,P(d(g),r=>{var c;return u(),h(S,{type:"primary",size:"large",plain:r.lock_dividend_days!==((c=d(l))==null?void 0:c.lock_dividend_days),key:r.id,onClick:ve=>V(r)},{default:i(()=>[U(v(r.lock_dividend_days)+" ",1),e(a,{keypath:"loan.day"})]),_:2},1032,["plain","onClick"])}),128))]),_:1}),o("div",ae,[o("div",ne,[o("div",te,[e(a,{keypath:"loan.day_rate"})]),o("div",se,v((w=d(l))==null?void 0:w.borrow_lixi)+" % ",1)]),o("div",le,[o("div",ie,[e(a,{keypath:"mining.maximum_subscription"})]),o("div",de,v((x=d(l))==null?void 0:x.borrow_amount_max),1)]),o("div",re,[o("div",_e,[e(a,{keypath:"mining.minimum_subscription"})]),o("div",ce,v((C=d(l))==null?void 0:C.borrow_amount_min),1)])]),e(p,{type:"primary",block:"",loading:d(y),onClick:$},{default:i(()=>[e(a,{keypath:"loan.loan_now"})]),_:1},8,["loading"]),o("div",me,[e(a,{keypath:"loan.rule"})])])],64)}}},xe=T(ue,[["__scopeId","data-v-ebb70879"]]);export{xe as default};
