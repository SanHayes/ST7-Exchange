import{_ as x,a1 as k,y as c,b as a,A as d,D as l,F as f,E as b,z as L,G as p,I as $,H as j,O as n,L as _,Q as B}from"./index-BnyLAGZB.js";import{L as C}from"./index-DJIEiOsH.js";import{N as I}from"./index-BmM0u66y.js";import{p as w}from"./news-BvOhVN13.js";import"./use-tab-status-DY5ShUGH.js";const z={class:"flex space-between align-center"},N={class:"p-name bold flex align-center"},D={class:"flex space-between ma-3"},E={class:"text-center"},F={class:"value"},R={class:"font-sm"},V={class:"text-center"},A={class:"value"},G={class:"font-sm"},H={__name:"Index",setup(O){const u=b(),e=k({page:0,list:[],loading:!1,finished:!1,error:!1,limit:10});function g(){e.page+=1;const o={page:e.page,limit:e.limit};w(o).then(t=>{if((t==null?void 0:t.type)==="ok"){const{data:r=[],total:m,last_page:i}=t.data;e.list.push(...r),i===e.page&&(e.finished=!0)}}).catch(t=>{e.error=!0}).finally(()=>{e.loading=!1})}function h(o){u.push(`/apply/${o.id}`)}return(o,t)=>{const r=$,m=I,i=L("i18n-t"),v=B,y=C;return p(),c(f,null,[a(m,{title:o.$t("mining.money_management"),fixed:"",placeholder:""},{right:d(()=>[a(r,{name:"orders-o",size:"24",onClick:t[0]||(t[0]=s=>o.$router.push("/applyRecord"))})]),_:1},8,["title"]),a(y,{class:"list ma-5",loading:l(e).loading,"onUpdate:loading":t[1]||(t[1]=s=>l(e).loading=s),finished:l(e).finished,error:l(e).error,"finished-text":o.$t("mining.no_more"),onLoad:g},{default:d(()=>[(p(!0),c(f,null,j(l(e).list,s=>(p(),c("div",{class:"row my-3 pa-5",key:s.id},[n("div",z,[n("div",N,[a(r,{name:s.project_img,size:"30"},null,8,["name"]),n("span",null,_(s.project_name),1)]),a(v,{type:"primary",size:"small",onClick:Q=>h(s)},{default:d(()=>[a(i,{keypath:"mining.subscribe"})]),_:2},1032,["onClick"])]),n("div",D,[n("div",E,[n("div",F,_(s.project_lixi)+"%",1),n("div",R,[a(i,{keypath:"mining.expected_nissan"})])]),n("div",V,[n("div",A,_(s.project_amount_min),1),n("div",G,[a(i,{keypath:"mining.mining_machine_rental"})])])])]))),128))]),_:1},8,["loading","finished","error","finished-text"])],64)}}},M=x(H,[["__scopeId","data-v-a4dc236f"]]);export{M as default};
