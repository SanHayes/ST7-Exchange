import{u as P,c as B,r as le,m as pe,a as me,b as f,d as u,e as z,o as g,w as o,f as L,t as S,E as U,g as ve,_ as Z,h as W,i as _e,j as ge,k as H,l as N,n as l,p as w,q as J,s as d,F as G,v as D,x as O,y as oe,z as fe,A as be,B as ye,C as we,D as he,G as ke,H as Ve,I as Ce,J as Se,K as Me,L as xe}from"./index-DVPe3i3Z.js";function te(){const{tm:v}=P(),p=B(()=>v("register")),t=le({visible:!1,title:p.value.welcome_register});function n(){t.visible=!1}return{registerDialog:t,i18n:p,onRegisterClose:n}}function Ie(){const v=le({visible:!1,title:""});function p(){v.visible=!1}return{resetDialog:v,onResetClose:p}}const ne={__name:"FoxVerifyCodeInput",props:pe({account:{type:String,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const p=v,t=me(v,"modelValue"),{tm:n}=P(),r=B(()=>n("register")),e=f(!1),h=f(!1),c=f("");async function y(){if(!p.account)return U.warning(r.value.enter_email);h.value=!0;const k=await ve(p.account);if(h.value=!1,k.code===200){e.value=!0;let V=60;c.value=`${V}S${r.value.enter_vercode}`;const M=setInterval(()=>{V--,V===0?(clearInterval(M),e.value=!1):c.value=`${V}S${r.value.enter_vercode}`},1e3)}else U.error(k.data.message)}return(k,V)=>{const M=u("el-button"),m=u("el-input");return g(),z(m,{modelValue:t.value,"onUpdate:modelValue":V[0]||(V[0]=b=>t.value=b),placeholder:r.value.enter_vercode},{suffix:o(()=>[e.value?(g(),z(M,{key:1,type:"primary",size:"small"},{default:o(()=>[L(S(c.value),1)]),_:1})):(g(),z(M,{key:0,type:"primary",size:"small",loading:h.value,onClick:y},{default:o(()=>[L(S(k.$t("reset.get_ver_code")),1)]),_:1},8,["loading"]))]),_:1},8,["modelValue","placeholder"])}}};var j,ae;function Be(){if(ae)return j;ae=1;for(var v=[["Afghanistan (‫افغانستان‬‎)","af","93","+..-..-...-...."],["Åland Islands","ax","358",""],["Albania (Shqipëri)","al","355","+...(...)...-..."],["Algeria (‫الجزائر‬‎)","dz","213","+...-..-...-...."],["American Samoa","as","1684","+.(...)...-...."],["Andorra","ad","376","+...-...-..."],["Angola","ao","244","+...(...)...-..."],["Anguilla","ai","1264","+.(...)...-...."],["Antarctica","aq","672",""],["Antigua and Barbuda","ag","1268","+.(...)...-...."],["Argentina","ar","54","+..(...)...-...."],["Armenia (Հայաստան)","am","374","+...-..-...-..."],["Aruba","aw","297","+...-...-...."],["Australia","au","61","+.. ... ... ..."],["Austria (Österreich)","at","43","+..(...)...-...."],["Azerbaijan (Azərbaycan)","az","994","+...-..-...-..-.."],["Bahamas","bs","1242","+.(...)...-...."],["Bahrain (‫البحرين‬‎)","bh","973","+...-....-...."],["Bangladesh (বাংলাদেশ)","bd","880","+...-..-...-..."],["Barbados","bb","1246","+.(...)...-...."],["Belarus (Беларусь)","by","375","+...(..)...-..-.."],["Belgium (België)","be","32","+.. ... .. .. .."],["Belize","bz","501","+...-...-...."],["Benin (Bénin)","bj","229","+...-..-..-...."],["Bermuda","bm","1441","+.(...)...-...."],["Bhutan (འབྲུག)","bt","975","+...-.-...-..."],["Bolivia","bo","591","+...-.-...-...."],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387","+...-..-...."],["Botswana","bw","267","+...-..-...-..."],["Bouvet Island","bv","47",""],["Brazil (Brasil)","br","55","+..-..-....-...."],["British Indian Ocean Territory","io","246","+...-...-...."],["British Virgin Islands","vg","1284","+.(...)...-...."],["Brunei","bn","673","+...-...-...."],["Bulgaria (България)","bg","359","+...(...)...-..."],["Burkina Faso","bf","226","+...-..-..-...."],["Burundi (Uburundi)","bi","257","+...-..-..-...."],["Cambodia (កម្ពុជា)","kh","855","+...-..-...-..."],["Cameroon (Cameroun)","cm","237","+...-....-...."],["Canada","ca","1","+. (...) ...-....",1,["204","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238","+...(...)..-.."],["Caribbean Netherlands","bq","599","+...-...-....",1],["Cayman Islands","ky","1345","+.(...)...-...."],["Central African Republic (République centrafricaine)","cf","236","+...-..-..-...."],["Chad (Tchad)","td","235","+...-..-..-..-.."],["Chile","cl","56","+..-.-....-...."],["China (中国)","cn","86","+.. ..-........"],["Christmas Island","cx","61",""],["Cocos (Keeling) Islands","cc","61",""],["Colombia","co","57","+..(...)...-...."],["Comoros (‫جزر القمر‬‎)","km","269","+...-..-....."],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243","+...(...)...-..."],["Congo (Republic) (Congo-Brazzaville)","cg","242","+...-..-...-...."],["Cook Islands","ck","682","+...-..-..."],["Costa Rica","cr","506","+... ....-...."],["Côte d’Ivoire","ci","225","+...-..-...-..."],["Croatia (Hrvatska)","hr","385","+...-..-...-..."],["Cuba","cu","53","+..-.-...-...."],["Curaçao","cw","599","+...-...-....",0],["Cyprus (Κύπρος)","cy","357","+...-..-...-..."],["Czech Republic (Česká republika)","cz","420","+...(...)...-..."],["Denmark (Danmark)","dk","45","+.. .. .. .. .."],["Djibouti","dj","253","+...-..-..-..-.."],["Dominica","dm","1767","+.(...)...-...."],["Dominican Republic (República Dominicana)","do","1","+.(...)...-....",2,["809","829","849"]],["Ecuador","ec","593","+...-.-...-...."],["Egypt (‫مصر‬‎)","eg","20","+..(...)...-...."],["El Salvador","sv","503","+... ....-...."],["Equatorial Guinea (Guinea Ecuatorial)","gq","240","+...-..-...-...."],["Eritrea","er","291","+...-.-...-..."],["Estonia (Eesti)","ee","372","+...-...-...."],["Ethiopia","et","251","+...-..-...-...."],["Falkland Islands (Islas Malvinas)","fk","500","+...-....."],["Faroe Islands (Føroyar)","fo","298","+...-...-..."],["Fiji","fj","679","+...-..-....."],["Finland (Suomi)","fi","358","+... .. .... ...."],["France","fr","33","+.. . .. .. .. .."],["French Guiana (Guyane française)","gf","594","+...-.....-...."],["French Polynesia (Polynésie française)","pf","689","+...-..-..-.."],["French Southern and Antarctic Lands","tf","262",""],["Gabon","ga","241","+...-.-..-..-.."],["Gambia","gm","220","+...(...)..-.."],["Georgia (საქართველო)","ge","995","+...(...)...-..."],["Germany (Deutschland)","de","49","+.. ... ......."],["Ghana (Gaana)","gh","233","+...(...)...-..."],["Gibraltar","gi","350","+...-...-....."],["Greece (Ελλάδα)","gr","30","+..(...)...-...."],["Greenland (Kalaallit Nunaat)","gl","299","+...-..-..-.."],["Grenada","gd","1473","+.(...)...-...."],["Guadeloupe","gp","590","",0],["Guam","gu","1671","+.(...)...-...."],["Guatemala","gt","502","+... ....-...."],["Guernsey","gg","44",""],["Guinea (Guinée)","gn","224","+...-..-...-..."],["Guinea-Bissau (Guiné Bissau)","gw","245","+...-.-......"],["Guyana","gy","592","+...-...-...."],["Haiti","ht","509","+... ....-...."],["Heard Island and McDonald Islands","hm","672",""],["Honduras","hn","504","+...-....-...."],["Hong Kong (香港)","hk","852","+... .... ...."],["Hungary (Magyarország)","hu","36","+..(...)...-..."],["Iceland (Ísland)","is","354","+... ... ...."],["India (भारत)","in","91","+.. .....-....."],["Indonesia","id","62","+..-..-...-.."],["Iran (‫ایران‬‎)","ir","98","+..(...)...-...."],["Iraq (‫العراق‬‎)","iq","964","+...(...)...-...."],["Ireland","ie","353","+... .. ......."],["Isle of Man","im","44",""],["Israel (‫ישראל‬‎)","il","972","+...-.-...-...."],["Italy (Italia)","it","39","+.. ... ......",0],["Jamaica","jm","1876","+.(...)...-...."],["Japan (日本)","jp","81","+.. ... .. ...."],["Jersey","je","44",""],["Jordan (‫الأردن‬‎)","jo","962","+...-.-....-...."],["Kazakhstan (Казахстан)","kz","7","+. ... ...-..-..",1],["Kenya","ke","254","+...-...-......"],["Kiribati","ki","686","+...-..-..."],["Kosovo","xk","383",""],["Kuwait (‫الكويت‬‎)","kw","965","+...-....-...."],["Kyrgyzstan (Кыргызстан)","kg","996","+...(...)...-..."],["Laos (ລາວ)","la","856","+...-..-...-..."],["Latvia (Latvija)","lv","371","+...-..-...-..."],["Lebanon (‫لبنان‬‎)","lb","961","+...-.-...-..."],["Lesotho","ls","266","+...-.-...-...."],["Liberia","lr","231","+...-..-...-..."],["Libya (‫ليبيا‬‎)","ly","218","+...-..-...-..."],["Liechtenstein","li","423","+...(...)...-...."],["Lithuania (Lietuva)","lt","370","+...(...)..-..."],["Luxembourg","lu","352","+...(...)...-..."],["Macau (澳門)","mo","853","+...-....-...."],["Macedonia (FYROM) (Македонија)","mk","389","+...-..-...-..."],["Madagascar (Madagasikara)","mg","261","+...-..-..-....."],["Malawi","mw","265","+...-.-....-...."],["Malaysia","my","60","+.. ..-....-...."],["Maldives","mv","960","+...-...-...."],["Mali","ml","223","+...-..-..-...."],["Malta","mt","356","+...-....-...."],["Marshall Islands","mh","692","+...-...-...."],["Martinique","mq","596","+...(...)..-..-.."],["Mauritania (‫موريتانيا‬‎)","mr","222","+...-..-..-...."],["Mauritius (Moris)","mu","230","+...-...-...."],["Mayotte","yt","262",""],["Mexico (México)","mx","52","+..-..-..-...."],["Micronesia","fm","691","+...-...-...."],["Moldova (Republica Moldova)","md","373","+...-....-...."],["Monaco","mc","377","+...-..-...-..."],["Mongolia (Монгол)","mn","976","+...-..-..-...."],["Montenegro (Crna Gora)","me","382","+...-..-...-..."],["Montserrat","ms","1664","+.(...)...-...."],["Morocco (‫المغرب‬‎)","ma","212","+...-..-....-..."],["Mozambique (Moçambique)","mz","258","+...-..-...-..."],["Myanmar (Burma) (မြန်မာ)","mm","95","+..-...-..."],["Namibia (Namibië)","na","264","+...-..-...-...."],["Nauru","nr","674","+...-...-...."],["Nepal (नेपाल)","np","977","+...-..-...-..."],["Netherlands (Nederland)","nl","31","+.. .. ........"],["New Caledonia (Nouvelle-Calédonie)","nc","687","+...-..-...."],["New Zealand","nz","64","+.. ...-...-...."],["Nicaragua","ni","505","+...-....-...."],["Niger (Nijar)","ne","227","+...-..-..-...."],["Nigeria","ng","234","+...-..-...-.."],["Niue","nu","683","+...-...."],["Norfolk Island","nf","672","+...-...-..."],["North Korea (조선 민주주의 인민 공화국)","kp","850","+...-...-..."],["Northern Mariana Islands","mp","1670","+.(...)...-...."],["Norway (Norge)","no","47","+.. ... .. ..."],["Oman (‫عُمان‬‎)","om","968","+...-..-...-..."],["Pakistan (‫پاکستان‬‎)","pk","92","+.. ...-......."],["Palau","pw","680","+...-...-...."],["Palestine (‫فلسطين‬‎)","ps","970","+...-..-...-...."],["Panama (Panamá)","pa","507","+...-...-...."],["Papua New Guinea","pg","675","+...(...)..-..."],["Paraguay","py","595","+...(...)...-..."],["Peru (Perú)","pe","51","+..(...)...-..."],["Philippines","ph","63","+.. ... ...."],["Pitcairn Islands","pn","64",""],["Poland (Polska)","pl","48","+.. ...-...-..."],["Portugal","pt","351","+...-..-...-...."],["Puerto Rico","pr","1","+. (...) ...-....",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974","+...-....-...."],["Réunion (La Réunion)","re","262","+...-.....-...."],["Romania (România)","ro","40","+..-..-...-...."],["Russia (Россия)","ru","7","+. ... ...-..-..",0],["Rwanda","rw","250","+...(...)...-..."],["Saint Barthélemy (Saint-Barthélemy)","bl","590","",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869","+.(...)...-...."],["Saint Lucia","lc","1758","+.(...)...-...."],["Saint Martin (Saint-Martin (partie française))","mf","590","",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784","+.(...)...-...."],["Samoa","ws","685","+...-..-...."],["San Marino","sm","378","+...-....-......"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239","+...-..-....."],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966","+...-..-...-...."],["Senegal (Sénégal)","sn","221","+...-..-...-...."],["Serbia (Србија)","rs","381","+...-..-...-...."],["Seychelles","sc","248","+...-.-...-..."],["Sierra Leone","sl","232","+...-..-......"],["Singapore","sg","65","+.. ....-...."],["Sint Maarten","sx","1721","+.(...)...-...."],["Slovakia (Slovensko)","sk","421","+...(...)...-..."],["Slovenia (Slovenija)","si","386","+...-..-...-..."],["Solomon Islands","sb","677","+...-....."],["Somalia (Soomaaliya)","so","252","+...-.-...-..."],["South Africa","za","27","+..-..-...-...."],["South Georgia and the South Sandwich Islands","gs","500",""],["South Korea (대한민국)","kr","82","+..-..-...-...."],["South Sudan (‫جنوب السودان‬‎)","ss","211","+...-..-...-...."],["Spain (España)","es","34","+.. ... ... ..."],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94","+..-..-...-...."],["Sudan (‫السودان‬‎)","sd","249","+...-..-...-...."],["Suriname","sr","597","+...-...-..."],["Svalbard and Jan Mayen","sj","47",""],["Swaziland","sz","268","+...-..-..-...."],["Sweden (Sverige)","se","46","+.. .. ... .. .."],["Switzerland (Schweiz)","ch","41","+.. .. ... .. .."],["Syria (‫سوريا‬‎)","sy","963","+...-..-....-..."],["Taiwan (台灣)","tw","886","+...-....-...."],["Tajikistan","tj","992","+...-..-...-...."],["Tanzania","tz","255","+...-..-...-...."],["Thailand (ไทย)","th","66","+..-..-...-..."],["Timor-Leste","tl","670","+...-...-...."],["Togo","tg","228","+...-..-...-..."],["Tokelau","tk","690","+...-...."],["Tonga","to","676","+...-....."],["Trinidad and Tobago","tt","1868","+.(...)...-...."],["Tunisia (‫تونس‬‎)","tn","216","+...-..-...-..."],["Turkey (Türkiye)","tr","90","+.. ... ... .. .."],["Turkmenistan","tm","993","+...-.-...-...."],["Turks and Caicos Islands","tc","1649","+.(...)...-...."],["Tuvalu","tv","688","+...-....."],["U.S. Virgin Islands","vi","1340","+.(...)...-...."],["Uganda","ug","256","+...(...)...-..."],["Ukraine (Україна)","ua","380","+...(..)...-..-.."],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971","+...-.-...-...."],["United Kingdom","gb","44","+.. .... ......"],["United States","us","1","+. (...) ...-....",0],["United States Minor Outlying Islands","um","1","",2],["Uruguay","uy","598","+...-.-...-..-.."],["Uzbekistan (Oʻzbekiston)","uz","998","+...-..-...-...."],["Vanuatu","vu","678","+...-....."],["Vatican City (Città del Vaticano)","va","39","+.. .. .... ....",1],["Venezuela","ve","58","+..(...)...-...."],["Vietnam (Việt Nam)","vn","84","+..-..-....-..."],["Wallis and Futuna","wf","681","+...-..-...."],["Western Sahara","eh","212","+...-..-...."],["Yemen (‫اليمن‬‎)","ye","967","+...-.-...-..."],["Zambia","zm","260","+...-..-...-...."],["Zimbabwe","zw","263","+...-.-......"]],p={},t={},n=function(y,k,V){k in p||(p[k]=[]);var M=V||0;p[k][M]=y},r=0;r<v.length;r++){var e=v[r];if(v[r]={name:e[0],iso2:e[1],dialCode:e[2],priority:e[4]||0},e[3]&&(v[r].format=e[3]),e[5]){v[r].hasAreaCodes=!0;for(var h=0;h<e[5].length;h++){var c=e[2]+e[5][h];n(e[1],c)}}t[v[r].iso2]=r,n(e[1],e[2],e[4])}return j={allCountries:v,iso2Lookup:t,allCountryCodes:p},j}var Ze=Be();const Le={class:"register-form"},ze={class:"tip-box"},Re={class:"toolbar"},Ne={__name:"RegisterForm",props:{defaultInviteCode:{type:String,default:""}},setup(v){const p=v,{i18n:t}=te(),{proxy:n}=W(),{t:r}=P(),e=f({usestring:"",passwords:"",confirmpasswords:"",invitecode:"",code:"",type:"mobile",area_code:"86",area_code_id:0,pay_password:""}),h=f([{id:"email",label:t.value.email_login},{id:"mobile",label:t.value.mobile_login}]);console.log(t.value);const c=f(!1),y=f(null),k=B(()=>({usestring:[{required:!0,message:e.value.type==="email"?t.value.enter_email:t.value.enter_mobile,trigger:"blur"}],passwords:[{required:!0,message:t.value.enter_password,trigger:"blur"},{validator:(b,s,x)=>{ge(s)?x():x(new Error(t.value.password_validate_msg))},trigger:"blur"}],confirmpasswords:[{required:!0,message:t.value.enter_password_again,trigger:"blur"}],pay_password:[{required:!0,message:t.value.pay_password,trigger:"blur"},{validator:(b,s,x)=>{_e(Number(s))?x():x(new Error(t.value.pay_password_validate_msg))},trigger:"blur"}]})),V=B(()=>e.value.type==="email"?t.value.enter_email:t.value.enter_mobile);H(()=>e.value.type,()=>{e.value.usestring="",e.value.code=""}),e.value.invitecode=p.defaultInviteCode;function M(){n.$emit("login")}function m(){y.value.validate(async b=>{if(!b)return;c.value=!0;const s=await fe({user_string:e.value.usestring,code:e.value.code,password:e.value.passwords,re_password:e.value.confirmpasswords,type:e.value.type,area_code:e.value.area_code,area_code_id:0,pay_password:e.value.pay_password}).finally(()=>{c.value=!1});s.code===200?(U.success(r("deposit.completed")),setTimeout(()=>{M()},200)):U.error(s.data.message)})}return(b,s)=>{const x=u("el-option"),R=u("el-select"),_=u("el-form-item"),I=u("el-input"),T=u("el-col"),$=u("el-text"),Y=u("el-row"),F=u("el-form"),E=u("el-link"),C=u("el-button");return g(),N("div",Le,[l(F,{"label-width":"auto","label-position":"top",ref_key:"formRef",ref:y,model:e.value,rules:k.value},{default:o(()=>[J(l(_,{label:d(t).login_type,prop:"type"},{default:o(()=>[l(R,{modelValue:e.value.type,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value.type=a)},{default:o(()=>[(g(!0),N(G,null,D(h.value,a=>(g(),z(x,{key:a.id,value:a.id,label:a.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),[[O,!1]]),l(_,{label:V.value,prop:"usestring"},{default:o(()=>[e.value.type==="email"?(g(),z(I,{key:0,modelValue:e.value.usestring,"onUpdate:modelValue":s[1]||(s[1]=a=>e.value.usestring=a),placeholder:d(t).enter_email,clearable:"",autocomplete:"off"},null,8,["modelValue","placeholder"])):(g(),z(Y,{key:1,style:{width:"100%"},gutter:5},{default:o(()=>[oe("",!0),l(T,{span:24},{default:o(()=>[l(I,{modelValue:e.value.usestring,"onUpdate:modelValue":s[3]||(s[3]=a=>e.value.usestring=a),placeholder:d(t).enter_mobile,clearable:"",autocomplete:"off"},{prefix:o(()=>[l($,{type:"primary"},{default:o(()=>[L(S(e.value.area_code),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}))]),_:1},8,["label"]),l(_,{label:d(t).pwd,prop:"passwords"},{default:o(()=>[l(I,{type:"password",modelValue:e.value.passwords,"onUpdate:modelValue":s[4]||(s[4]=a=>e.value.passwords=a),placeholder:d(t).pwd,"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(_,{label:d(t).enter_password_again,prop:"confirmpasswords"},{default:o(()=>[l(I,{type:"password",modelValue:e.value.confirmpasswords,"onUpdate:modelValue":s[5]||(s[5]=a=>e.value.confirmpasswords=a),placeholder:d(t).enter_password_again,"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(_,{label:b.$t("register.pay_password"),prop:"pay_password"},{default:o(()=>[l(I,{type:"password",modelValue:e.value.pay_password,"onUpdate:modelValue":s[6]||(s[6]=a=>e.value.pay_password=a),placeholder:d(t).pay_password,"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(_,{label:b.$t("invite.invitation_code"),prop:"invitecode"},{default:o(()=>[l(I,{modelValue:e.value.invitecode,"onUpdate:modelValue":s[7]||(s[7]=a=>e.value.invitecode=a),placeholder:d(t).enter_invite_code,clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),J(l(_,{label:d(t).enter_vercode,prop:"code"},{default:o(()=>[l(ne,{modelValue:e.value.code,"onUpdate:modelValue":s[8]||(s[8]=a=>e.value.code=a),account:e.value.usestring},null,8,["modelValue","account"])]),_:1},8,["label"]),[[O,e.value.type==="email"]])]),_:1},8,["model","rules"]),w("div",ze,[L(S(b.$t("reset.have_account"))+" ",1),l(E,{onClick:M},{default:o(()=>[L(S(d(t).sign_in),1)]),_:1})]),w("div",Re,[l(C,{type:"primary",round:"",onClick:m,loading:c.value},{default:o(()=>[L(S(d(t).register),1)]),_:1},8,["loading"])])])}}},Ue=Z(Ne,[["__scopeId","data-v-1cd3280c"]]),Ae={class:"reset-password-form"},Pe={class:"toolbar"},Te={__name:"ResetPasswordForm",setup(v){const{proxy:p}=W(),{t,tm:n}=P(),r=B(()=>n("reset")),e=f({usestring:"",passwords:"",confirmpasswords:"",code:""}),h=f(null),c=f({usestring:[{required:!0,message:r.value.enter_email,trigger:"blur"}],passwords:[{required:!0,message:r.value.enter_new_password,trigger:"blur"}],confirmpasswords:[{required:!0,message:r.value.enter_new_password_again}]}),y=f(!1);function k(){p.$emit("login")}function V(){h.value.validate(async M=>{M&&(y.value=!0,be({email:e.value.usestring,code:e.value.code,password:e.value.passwords,repassword:e.value.confirmpasswords}).then(m=>{m.code===200?(U.success(t("deposit.completed")),setTimeout(()=>{k()},200)):U.error(m.data.message)}).finally(()=>{y.value=!1}))})}return(M,m)=>{const b=u("el-input"),s=u("el-form-item"),x=u("el-form"),R=u("el-button");return g(),N("div",Ae,[l(x,{"label-position":"top",model:e.value,ref_key:"formRef",ref:h,rules:c.value},{default:o(()=>[l(s,{label:r.value.enter_email,prop:"usestring"},{default:o(()=>[l(b,{modelValue:e.value.usestring,"onUpdate:modelValue":m[0]||(m[0]=_=>e.value.usestring=_),placeholder:r.value.enter_email,clearable:""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(s,{label:r.value.enter_new_password,prop:"passwords"},{default:o(()=>[l(b,{type:"password",modelValue:e.value.passwords,"onUpdate:modelValue":m[1]||(m[1]=_=>e.value.passwords=_),placeholder:r.value.enter_new_password,"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(s,{label:r.value.enter_new_password_again,prop:"confirmpasswords"},{default:o(()=>[l(b,{type:"password",modelValue:e.value.confirmpasswords,"onUpdate:modelValue":m[2]||(m[2]=_=>e.value.confirmpasswords=_),placeholder:r.value.enter_new_password_again,"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(s,{label:r.value.enter_vercode,prop:"code"},{default:o(()=>[l(ne,{modelValue:e.value.code,"onUpdate:modelValue":m[3]||(m[3]=_=>e.value.code=_),account:e.value.usestring},null,8,["modelValue","account"])]),_:1},8,["label"])]),_:1},8,["model","rules"]),w("div",Pe,[l(R,{type:"primary",round:"",onClick:V,loading:y.value},{default:o(()=>[L(S(r.value.reset_password),1)]),_:1},8,["loading"])])])}}},$e=Z(Te,[["__scopeId","data-v-492b256d"]]),qe={class:"login-container"},Ge={class:"login-background"},De={class:"particles"},Fe={class:"language-box"},Ee={class:"op-box"},Ke=["src","alt"],je={class:"login-title"},He={class:"tip-box"},Je={__name:"LoginPage",setup(v){const p=f("");p.value=ye();const t=f(null),n=f({username:"",password:"",type:"mobile",area_code:"86"}),{proxy:r}=W(),{tm:e,locale:h}=P(),c=B(()=>e("login")),y=B(()=>e("register")),k=B(()=>[{id:"email",label:y.value.email_login},{id:"mobile",label:y.value.mobile_login}]),V=B(()=>`${c.value.creat_account.split(",")[0]}`),M=B(()=>{const a=c.value.creat_account.split(",");return a.length===2?a[1]:""}),m=f(!1),b=f(!1),s=B(()=>({username:[{required:!0,message:n.value.type==="email"?c.value.enter_email:y.value.enter_mobile,trigger:"blur"}],password:[{required:!0,message:c.value.enter_password,trigger:"blur"}]})),x=f(""),{registerDialog:R,onRegisterClose:_}=te(),{resetDialog:I,onResetClose:T}=Ie();H(()=>r.$route,C=>{const{inviteCode:a=""}=C.query||{};a&&(R.visible=!0,x.value=a)},{immediate:!0}),H(()=>n.value.type,()=>{n.value.username="",n.value.area_code=""});function $(C=!1){t.value.validate(a=>{if(a)m.value=!0,Ve({user_string:n.value.username,password:n.value.password,area_code:n.value.area_code,type:n.value.type}).then(A=>{A.code===200&&(localStorage.setItem("VirtualAccount",C?"虚拟账号":"已登录"),Ce(A.data.data),Se().refreshUser(()=>{m.value=!1,r.$router.push("/")}))}).catch(()=>{m.value=!1});else return!1})}function Y(){b.value=!0,Me().then(C=>{C.code===200&&(n.value={...C.data.data},xe(()=>{$(!0)}))}).finally(()=>{b.value=!1})}function F(){const C=Math.random()*10+5,a=Math.random()*5+3;return{width:`${C}px`,height:`${C}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${a}s`}}function E(){h.value=p.value,ke(p.value)}return(C,a)=>{const A=u("el-option"),Q=u("el-select"),q=u("el-form-item"),K=u("el-input"),re=u("el-text"),se=u("el-col"),ie=u("el-row"),X=u("el-link"),ue=u("el-button"),de=u("el-form"),ce=u("el-card"),ee=u("el-dialog");return g(),N("div",qe,[w("div",Ge,[w("div",De,[(g(),N(G,null,D(30,i=>w("div",{key:i,class:"particle",style:we(F())},null,4)),64))])]),l(ce,{class:"login-card"},{default:o(()=>[w("div",Fe,[l(Q,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=i=>p.value=i),"popper-class":"language-popper",onChange:E,size:"small"},{default:o(()=>[(g(!0),N(G,null,D(d(he),i=>(g(),z(A,{key:i.value,label:i.name,value:i.value},{default:o(()=>[w("div",Ee,[w("img",{src:i.img,alt:i.name},null,8,Ke),w("span",null,S(i.name),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),w("h2",je,S(c.value.welcome_sign_in),1),l(de,{model:n.value,rules:s.value,ref_key:"loginFormRef",ref:t},{default:o(()=>[l(q,{prop:"type"},{default:o(()=>[J(l(Q,{modelValue:n.value.type,"onUpdate:modelValue":a[1]||(a[1]=i=>n.value.type=i),placeholder:y.value.login_type},{default:o(()=>[(g(!0),N(G,null,D(k.value,i=>(g(),z(A,{key:i.id,value:i.id,label:i.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"]),[[O,!1]])]),_:1}),l(q,{prop:"username"},{default:o(()=>[n.value.type==="email"?(g(),z(K,{key:0,modelValue:n.value.username,"onUpdate:modelValue":a[2]||(a[2]=i=>n.value.username=i),placeholder:c.value.enter_email,clearable:"",autocomplete:"off","prefix-icon":"el-icon-user"},null,8,["modelValue","placeholder"])):(g(),z(ie,{key:1,style:{width:"100%"},gutter:5},{default:o(()=>[l(se,{span:24},{default:o(()=>[l(K,{modelValue:n.value.username,"onUpdate:modelValue":a[3]||(a[3]=i=>n.value.username=i),placeholder:c.value.enter_mobile,clearable:"","prefix-icon":"el-icon-user",autocomplete:"off"},{prefix:o(()=>[l(re,{type:"primary"},{default:o(()=>[L(S(n.value.area_code),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1})]),_:1}))]),_:1}),l(q,{prop:"password"},{default:o(()=>[l(K,{modelValue:n.value.password,"onUpdate:modelValue":a[4]||(a[4]=i=>n.value.password=i),type:"password",placeholder:c.value.enter_password,"prefix-icon":"el-icon-lock","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),w("div",He,[w("div",{class:"left",onClick:a[5]||(a[5]=i=>d(R).visible=!0)},[w("span",null,S(c.value.have_account),1),l(X,{class:"join"},{default:o(()=>[L(S(c.value.register),1)]),_:1})]),w("div",{class:"right",onClick:a[6]||(a[6]=i=>d(I).visible=!0)},[l(X,null,{default:o(()=>[L(S(c.value.forgot_password),1)]),_:1})])]),l(q,null,{default:o(()=>[l(ue,{type:"primary",class:"login-button",onClick:a[7]||(a[7]=i=>$(!1)),loading:m.value},{default:o(()=>[L(S(c.value.sign_in),1)]),_:1},8,["loading"])]),_:1}),oe("",!0)]),_:1},8,["model","rules"])]),_:1}),l(ee,{modelValue:d(R).visible,"onUpdate:modelValue":a[8]||(a[8]=i=>d(R).visible=i),title:d(R).title,width:"500","append-to-body":!0,"close-on-click-modal":!1,"show-close":!0,"destroy-on-close":!0,onClose:d(_)},{default:o(()=>[l(Ue,{onLogin:d(_),"default-invite-code":x.value},null,8,["onLogin","default-invite-code"])]),_:1},8,["modelValue","title","onClose"]),l(ee,{modelValue:d(I).visible,"onUpdate:modelValue":a[9]||(a[9]=i=>d(I).visible=i),title:d(I).title,width:"500","append-to-body":!0,"close-on-click-modal":!1,"show-close":!0,"destroy-on-close":!0,onClose:d(T)},{default:o(()=>[l($e,{onLogin:d(T)},null,8,["onLogin"])]),_:1},8,["modelValue","title","onClose"])])}}},We=Z(Je,[["__scopeId","data-v-3b39b534"]]);export{We as default};
